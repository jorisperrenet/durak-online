(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();const oi=!1;var $r=Array.isArray,ho=Array.prototype.indexOf,Fr=Array.from,mo=Object.defineProperty,Ln=Object.getOwnPropertyDescriptor,za=Object.getOwnPropertyDescriptors,go=Object.prototype,bo=Array.prototype,mi=Object.getPrototypeOf,aa=Object.isExtensible;function xo(e){return e()}function li(e){for(var n=0;n<e.length;n++)e[n]()}function Ta(){var e,n,r=new Promise((i,a)=>{e=i,n=a});return{promise:r,resolve:e,reject:n}}function yo(e,n){if(Array.isArray(e))return e;if(!(Symbol.iterator in e))return Array.from(e);const r=[];for(const i of e)if(r.push(i),r.length===n)break;return r}const et=2,Rr=4,dr=8,Aa=1<<24,Zt=16,en=32,Tn=64,gi=128,Et=512,Ze=1024,ft=2048,Lt=4096,yt=8192,Vt=16384,bi=32768,Hn=65536,sa=1<<17,Ea=1<<18,qn=1<<19,Pa=1<<20,Kt=1<<25,kn=32768,ci=1<<21,xi=1<<22,ln=1<<23,cn=Symbol("$state"),wo=Symbol("legacy props"),ko=Symbol(""),Dn=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Ra(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function So(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function zo(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function To(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ao(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Eo(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Po(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Ro(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Co(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Oo(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Mo(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const No=1,Io=2,Ca=4,Do=8,$o=16,Fo=2,Lo=4,Ho=8,jo=1,Uo=2,Xe=Symbol(),Bo="http://www.w3.org/1999/xhtml";function qo(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function Yo(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Oa(e){return e===this.v}function Go(e,n){return e!=e?n==n:e!==n||e!==null&&typeof e=="object"||typeof e=="function"}function Ma(e){return!Go(e,this.v)}let Yn=!1,Wo=!1;function Ko(){Yn=!0}let Ce=null;function jn(e){Ce=e}function yi(e,n=!1,r){Ce={p:Ce,i:!1,c:null,e:null,s:e,x:null,l:Yn&&!n?{s:null,u:null,$:[]}:null}}function wi(e){var n=Ce,r=n.e;if(r!==null){n.e=null;for(var i of r)Ja(i)}return n.i=!0,Ce=n.p,{}}function vr(){return!Yn||Ce!==null&&Ce.l===null}let bn=[];function Na(){var e=bn;bn=[],li(e)}function _r(e){if(bn.length===0&&!rr){var n=bn;queueMicrotask(()=>{n===bn&&Na()})}bn.push(e)}function Vo(){for(;bn.length>0;)Na()}function Ia(e){var n=he;if(n===null)return re.f|=ln,e;if((n.f&bi)===0){if((n.f&gi)===0)throw e;n.b.error(e)}else Un(e,n)}function Un(e,n){for(;n!==null;){if((n.f&gi)!==0)try{n.b.error(e);return}catch(r){e=r}n=n.parent}throw e}const Jo=-7169;function Ye(e,n){e.f=e.f&Jo|n}function ki(e){(e.f&Et)!==0||e.deps===null?Ye(e,Ze):Ye(e,Lt)}function Da(e){if(e!==null)for(const n of e)(n.f&et)===0||(n.f&kn)===0||(n.f^=kn,Da(n.deps))}function $a(e,n,r){(e.f&ft)!==0?n.add(e):(e.f&Lt)!==0&&r.add(e),Da(e.deps),Ye(e,Ze)}const zr=new Set;let ve=null,nr=null,Ot=null,Tt=[],Lr=null,ui=!1,rr=!1;class $t{committed=!1;current=new Map;previous=new Map;#t=new Set;#s=new Set;#e=0;#i=0;#a=null;#r=new Set;#n=new Set;skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#i>0}process(n){Tt=[],nr=null,this.apply();var r=[],i=[];for(const a of n)this.#o(a,r,i);this.is_fork||this.#c(),this.is_deferred()?(this.#l(i),this.#l(r)):(nr=this,ve=null,oa(i),oa(r),nr=null,this.#a?.resolve()),Ot=null}#o(n,r,i){n.f^=Ze;for(var a=n.first,o=null;a!==null;){var c=a.f,v=(c&(en|Tn))!==0,_=v&&(c&Ze)!==0,x=_||(c&yt)!==0||this.skipped_effects.has(a);if(!x&&a.fn!==null){v?a.f^=Ze:o!==null&&(c&(Rr|dr|Aa))!==0?o.b.defer_effect(a):(c&Rr)!==0?r.push(a):Gn(a)&&((c&Zt)!==0&&this.#r.add(a),Bn(a));var w=a.first;if(w!==null){a=w;continue}}var P=a.parent;for(a=a.next;a===null&&P!==null;)P===o&&(o=null),a=P.next,P=P.parent}}#l(n){for(var r=0;r<n.length;r+=1)$a(n[r],this.#r,this.#n)}capture(n,r){r!==Xe&&!this.previous.has(n)&&this.previous.set(n,r),(n.f&ln)===0&&(this.current.set(n,n.v),Ot?.set(n,n.v))}activate(){ve=this,this.apply()}deactivate(){ve===this&&(ve=null,Ot=null)}flush(){if(this.activate(),Tt.length>0){if(Fa(),ve!==null&&ve!==this)return}else this.#e===0&&this.process([]);this.deactivate()}discard(){for(const n of this.#s)n(this);this.#s.clear()}#c(){if(this.#i===0){for(const n of this.#t)n();this.#t.clear()}this.#e===0&&this.#u()}#u(){if(zr.size>1){this.previous.clear();var n=Ot,r=!0;for(const a of zr){if(a===this){r=!1;continue}const o=[];for(const[v,_]of this.current){if(a.current.has(v))if(r&&_!==a.current.get(v))a.current.set(v,_);else continue;o.push(v)}if(o.length===0)continue;const c=[...a.current.keys()].filter(v=>!this.current.has(v));if(c.length>0){var i=Tt;Tt=[];const v=new Set,_=new Map;for(const x of o)La(x,c,v,_);if(Tt.length>0){ve=a,a.apply();for(const x of Tt)a.#o(x,[],[]);a.deactivate()}Tt=i}}ve=null,Ot=n}this.committed=!0,zr.delete(this)}increment(n){this.#e+=1,n&&(this.#i+=1)}decrement(n){this.#e-=1,n&&(this.#i-=1),this.revive()}revive(){for(const n of this.#r)this.#n.delete(n),Ye(n,ft),Xt(n);for(const n of this.#n)Ye(n,Lt),Xt(n);this.flush()}oncommit(n){this.#t.add(n)}ondiscard(n){this.#s.add(n)}settled(){return(this.#a??=Ta()).promise}static ensure(){if(ve===null){const n=ve=new $t;zr.add(ve),rr||$t.enqueue(()=>{ve===n&&n.flush()})}return ve}static enqueue(n){_r(n)}apply(){}}function Qo(e){var n=rr;rr=!0;try{for(var r;;){if(Vo(),Tt.length===0&&(ve?.flush(),Tt.length===0))return Lr=null,r;Fa()}}finally{rr=n}}function Fa(){var e=yn;ui=!0;var n=null;try{var r=0;for(Mr(!0);Tt.length>0;){var i=$t.ensure();if(r++>1e3){var a,o;Xo()}i.process(Tt),un.clear()}}finally{ui=!1,Mr(e),Lr=null}}function Xo(){try{Eo()}catch(e){Un(e,Lr)}}let Wt=null;function oa(e){var n=e.length;if(n!==0){for(var r=0;r<n;){var i=e[r++];if((i.f&(Vt|yt))===0&&Gn(i)&&(Wt=new Set,Bn(i),i.deps===null&&i.first===null&&i.nodes===null&&(i.teardown===null&&i.ac===null?Za(i):i.fn=null),Wt?.size>0)){un.clear();for(const a of Wt){if((a.f&(Vt|yt))!==0)continue;const o=[a];let c=a.parent;for(;c!==null;)Wt.has(c)&&(Wt.delete(c),o.push(c)),c=c.parent;for(let v=o.length-1;v>=0;v--){const _=o[v];(_.f&(Vt|yt))===0&&Bn(_)}}Wt.clear()}}Wt=null}}function La(e,n,r,i){if(!r.has(e)&&(r.add(e),e.reactions!==null))for(const a of e.reactions){const o=a.f;(o&et)!==0?La(a,n,r,i):(o&(xi|Zt))!==0&&(o&ft)===0&&Ha(a,n,i)&&(Ye(a,ft),Xt(a))}}function Ha(e,n,r){const i=r.get(e);if(i!==void 0)return i;if(e.deps!==null)for(const a of e.deps){if(n.includes(a))return!0;if((a.f&et)!==0&&Ha(a,n,r))return r.set(a,!0),!0}return r.set(e,!1),!1}function Xt(e){for(var n=Lr=e;n.parent!==null;){n=n.parent;var r=n.f;if(ui&&n===he&&(r&Zt)!==0&&(r&Ea)===0)return;if((r&(Tn|en))!==0){if((r&Ze)===0)return;n.f^=Ze}}Tt.push(n)}function Zo(e){let n=0,r=Sn(0),i;return()=>{Ti()&&(t(r),hr(()=>(n===0&&(i=f(()=>e(()=>ir(r)))),n+=1,()=>{_r(()=>{n-=1,n===0&&(i?.(),i=void 0,ir(r))})})))}}var el=Hn|qn|gi;function tl(e,n,r){new nl(e,n,r)}class nl{parent;is_pending=!1;#t;#s=null;#e;#i;#a;#r=null;#n=null;#o=null;#l=null;#c=null;#u=0;#f=0;#v=!1;#_=new Set;#p=new Set;#d=null;#x=Zo(()=>(this.#d=Sn(this.#u),()=>{this.#d=null}));constructor(n,r,i){this.#t=n,this.#e=r,this.#i=i,this.parent=he.b,this.is_pending=!!this.#e.pending,this.#a=Ei(()=>{he.b=this;{var a=this.#g();try{this.#r=At(()=>i(a))}catch(o){this.error(o)}this.#f>0?this.#m():this.is_pending=!1}return()=>{this.#c?.remove()}},el)}#y(){try{this.#r=At(()=>this.#i(this.#t))}catch(n){this.error(n)}}#w(){const n=this.#e.pending;n&&(this.#n=At(()=>n(this.#t)),$t.enqueue(()=>{var r=this.#g();this.#r=this.#h(()=>($t.ensure(),At(()=>this.#i(r)))),this.#f>0?this.#m():(xn(this.#n,()=>{this.#n=null}),this.is_pending=!1)}))}#g(){var n=this.#t;return this.is_pending&&(this.#c=Jt(),this.#t.before(this.#c),n=this.#c),n}defer_effect(n){$a(n,this.#_,this.#p)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#e.pending}#h(n){var r=he,i=re,a=Ce;Ft(this.#a),_t(this.#a),jn(this.#a.ctx);try{return n()}catch(o){return Ia(o),null}finally{Ft(r),_t(i),jn(a)}}#m(){const n=this.#e.pending;this.#r!==null&&(this.#l=document.createDocumentFragment(),this.#l.append(this.#c),ns(this.#r,this.#l)),this.#n===null&&(this.#n=At(()=>n(this.#t)))}#b(n){if(!this.has_pending_snippet()){this.parent&&this.parent.#b(n);return}if(this.#f+=n,this.#f===0){this.is_pending=!1;for(const r of this.#_)Ye(r,ft),Xt(r);for(const r of this.#p)Ye(r,Lt),Xt(r);this.#_.clear(),this.#p.clear(),this.#n&&xn(this.#n,()=>{this.#n=null}),this.#l&&(this.#t.before(this.#l),this.#l=null)}}update_pending_count(n){this.#b(n),this.#u+=n,this.#d&&zn(this.#d,this.#u)}get_effect_pending(){return this.#x(),t(this.#d)}error(n){var r=this.#e.onerror;let i=this.#e.failed;if(this.#v||!r&&!i)throw n;this.#r&&(pt(this.#r),this.#r=null),this.#n&&(pt(this.#n),this.#n=null),this.#o&&(pt(this.#o),this.#o=null);var a=!1,o=!1;const c=()=>{if(a){Yo();return}a=!0,o&&Mo(),$t.ensure(),this.#u=0,this.#o!==null&&xn(this.#o,()=>{this.#o=null}),this.is_pending=this.has_pending_snippet(),this.#r=this.#h(()=>(this.#v=!1,At(()=>this.#i(this.#t)))),this.#f>0?this.#m():this.is_pending=!1};var v=re;try{_t(null),o=!0,r?.(n,c),o=!1}catch(_){Un(_,this.#a&&this.#a.parent)}finally{_t(v)}i&&_r(()=>{this.#o=this.#h(()=>{$t.ensure(),this.#v=!0;try{return At(()=>{i(this.#t,()=>n,()=>c)})}catch(_){return Un(_,this.#a.parent),null}finally{this.#v=!1}})})}}function rl(e,n,r,i){const a=vr()?Hr:I;if(r.length===0&&e.length===0){i(n.map(a));return}var o=ve,c=he,v=il();function _(){Promise.all(r.map(x=>al(x))).then(x=>{v();try{i([...n.map(a),...x])}catch(w){(c.f&Vt)===0&&Un(w,c)}o?.deactivate(),Cr()}).catch(x=>{Un(x,c)})}e.length>0?Promise.all(e).then(()=>{v();try{return _()}finally{o?.deactivate(),Cr()}}):_()}function il(){var e=he,n=re,r=Ce,i=ve;return function(o=!0){Ft(e),_t(n),jn(r),o&&i?.activate()}}function Cr(){Ft(null),_t(null),jn(null)}function Hr(e){var n=et|ft,r=re!==null&&(re.f&et)!==0?re:null;return he!==null&&(he.f|=qn),{ctx:Ce,deps:null,effects:null,equals:Oa,f:n,fn:e,reactions:null,rv:0,v:Xe,wv:0,parent:r??he,ac:null}}function al(e,n,r){let i=he;i===null&&So();var a=i.b,o=void 0,c=Sn(Xe),v=!re,_=new Map;return ml(()=>{var x=Ta();o=x.promise;try{Promise.resolve(e()).then(x.resolve,x.reject).then(()=>{w===ve&&w.committed&&w.deactivate(),Cr()})}catch(z){x.reject(z),Cr()}var w=ve;if(v){var P=a.is_rendered();a.update_pending_count(1),w.increment(P),_.get(w)?.reject(Dn),_.delete(w),_.set(w,x)}const T=(z,te=void 0)=>{if(w.activate(),te)te!==Dn&&(c.f|=ln,zn(c,te));else{(c.f&ln)!==0&&(c.f^=ln),zn(c,z);for(const[ye,C]of _){if(_.delete(ye),ye===w)break;C.reject(Dn)}}v&&(a.update_pending_count(-1),w.decrement(P))};x.promise.then(T,z=>T(null,z||"unknown"))}),Ai(()=>{for(const x of _.values())x.reject(Dn)}),new Promise(x=>{function w(P){function T(){P===o?x(c):w(o)}P.then(T,T)}w(o)})}function sl(e){const n=Hr(e);return rs(n),n}function I(e){const n=Hr(e);return n.equals=Ma,n}function ja(e){var n=e.effects;if(n!==null){e.effects=null;for(var r=0;r<n.length;r+=1)pt(n[r])}}function ol(e){for(var n=e.parent;n!==null;){if((n.f&et)===0)return(n.f&Vt)===0?n:null;n=n.parent}return null}function Si(e){var n,r=he;Ft(ol(e));try{e.f&=~kn,ja(e),n=os(e)}finally{Ft(r)}return n}function Ua(e){var n=Si(e);if(!e.equals(n)&&(e.wv=as(),(!ve?.is_fork||e.deps===null)&&(e.v=n,e.deps===null))){Ye(e,Ze);return}fn||(Ot!==null?(Ti()||ve?.is_fork)&&Ot.set(e,n):ki(e))}let fi=new Set;const un=new Map;let Ba=!1;function Sn(e,n){var r={f:0,v:e,reactions:null,equals:Oa,rv:0,wv:0};return r}function rn(e,n){const r=Sn(e);return rs(r),r}function pe(e,n=!1,r=!0){const i=Sn(e);return n||(i.equals=Ma),Yn&&r&&Ce!==null&&Ce.l!==null&&(Ce.l.s??=[]).push(i),i}function g(e,n,r=!1){re!==null&&(!Mt||(re.f&sa)!==0)&&vr()&&(re.f&(et|Zt|xi|sa))!==0&&!Qt?.includes(e)&&Oo();let i=r?$n(n):n;return zn(e,i)}function zn(e,n){if(!e.equals(n)){var r=e.v;fn?un.set(e,n):un.set(e,r),e.v=n;var i=$t.ensure();if(i.capture(e,r),(e.f&et)!==0){const a=e;(e.f&ft)!==0&&Si(a),ki(a)}e.wv=as(),qa(e,ft),vr()&&he!==null&&(he.f&Ze)!==0&&(he.f&(en|Tn))===0&&(zt===null?yl([e]):zt.push(e)),!i.is_fork&&fi.size>0&&!Ba&&ll()}return n}function ll(){Ba=!1;var e=yn;Mr(!0);const n=Array.from(fi);try{for(const r of n)(r.f&Ze)!==0&&Ye(r,Lt),Gn(r)&&Bn(r)}finally{Mr(e)}fi.clear()}function ir(e){g(e,e.v+1)}function qa(e,n){var r=e.reactions;if(r!==null)for(var i=vr(),a=r.length,o=0;o<a;o++){var c=r[o],v=c.f;if(!(!i&&c===he)){var _=(v&ft)===0;if(_&&Ye(c,n),(v&et)!==0){var x=c;Ot?.delete(x),(v&kn)===0&&(v&Et&&(c.f|=kn),qa(x,Lt))}else _&&((v&Zt)!==0&&Wt!==null&&Wt.add(c),Xt(c))}}}function $n(e){if(typeof e!="object"||e===null||cn in e)return e;const n=mi(e);if(n!==go&&n!==bo)return e;var r=new Map,i=$r(e),a=rn(0),o=wn,c=v=>{if(wn===o)return v();var _=re,x=wn;_t(null),va(o);var w=v();return _t(_),va(x),w};return i&&r.set("length",rn(e.length)),new Proxy(e,{defineProperty(v,_,x){(!("value"in x)||x.configurable===!1||x.enumerable===!1||x.writable===!1)&&Ro();var w=r.get(_);return w===void 0?w=c(()=>{var P=rn(x.value);return r.set(_,P),P}):g(w,x.value,!0),!0},deleteProperty(v,_){var x=r.get(_);if(x===void 0){if(_ in v){const w=c(()=>rn(Xe));r.set(_,w),ir(a)}}else g(x,Xe),ir(a);return!0},get(v,_,x){if(_===cn)return e;var w=r.get(_),P=_ in v;if(w===void 0&&(!P||Ln(v,_)?.writable)&&(w=c(()=>{var z=$n(P?v[_]:Xe),te=rn(z);return te}),r.set(_,w)),w!==void 0){var T=t(w);return T===Xe?void 0:T}return Reflect.get(v,_,x)},getOwnPropertyDescriptor(v,_){var x=Reflect.getOwnPropertyDescriptor(v,_);if(x&&"value"in x){var w=r.get(_);w&&(x.value=t(w))}else if(x===void 0){var P=r.get(_),T=P?.v;if(P!==void 0&&T!==Xe)return{enumerable:!0,configurable:!0,value:T,writable:!0}}return x},has(v,_){if(_===cn)return!0;var x=r.get(_),w=x!==void 0&&x.v!==Xe||Reflect.has(v,_);if(x!==void 0||he!==null&&(!w||Ln(v,_)?.writable)){x===void 0&&(x=c(()=>{var T=w?$n(v[_]):Xe,z=rn(T);return z}),r.set(_,x));var P=t(x);if(P===Xe)return!1}return w},set(v,_,x,w){var P=r.get(_),T=_ in v;if(i&&_==="length")for(var z=x;z<P.v;z+=1){var te=r.get(z+"");te!==void 0?g(te,Xe):z in v&&(te=c(()=>rn(Xe)),r.set(z+"",te))}if(P===void 0)(!T||Ln(v,_)?.writable)&&(P=c(()=>rn(void 0)),g(P,$n(x)),r.set(_,P));else{T=P.v!==Xe;var ye=c(()=>$n(x));g(P,ye)}var C=Reflect.getOwnPropertyDescriptor(v,_);if(C?.set&&C.set.call(w,x),!T){if(i&&typeof _=="string"){var F=r.get("length"),ne=Number(_);Number.isInteger(ne)&&ne>=F.v&&g(F,ne+1)}ir(a)}return!0},ownKeys(v){t(a);var _=Reflect.ownKeys(v).filter(P=>{var T=r.get(P);return T===void 0||T.v!==Xe});for(var[x,w]of r)w.v!==Xe&&!(x in v)&&_.push(x);return _},setPrototypeOf(){Co()}})}function la(e){try{if(e!==null&&typeof e=="object"&&cn in e)return e[cn]}catch{}return e}function cl(e,n){return Object.is(la(e),la(n))}var ca,Ya,Ga,Wa;function ul(){if(ca===void 0){ca=window,Ya=/Firefox/.test(navigator.userAgent);var e=Element.prototype,n=Node.prototype,r=Text.prototype;Ga=Ln(n,"firstChild").get,Wa=Ln(n,"nextSibling").get,aa(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),aa(r)&&(r.__t=void 0)}}function Jt(e=""){return document.createTextNode(e)}function Or(e){return Ga.call(e)}function pr(e){return Wa.call(e)}function p(e,n){return Or(e)}function Ne(e,n=!1){{var r=Or(e);return r instanceof Comment&&r.data===""?pr(r):r}}function b(e,n=1,r=!1){let i=e;for(;n--;)i=pr(i);return i}function fl(e){e.textContent=""}function Ka(){return!1}let ua=!1;function dl(){ua||(ua=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const n of e.target.elements)n.__on_r?.()})},{capture:!0}))}function jr(e){var n=re,r=he;_t(null),Ft(null);try{return e()}finally{_t(n),Ft(r)}}function zi(e,n,r,i=r){e.addEventListener(n,()=>jr(r));const a=e.__on_r;a?e.__on_r=()=>{a(),i(!0)}:e.__on_r=()=>i(!0),dl()}function Va(e){he===null&&(re===null&&Ao(),To()),fn&&zo()}function vl(e,n){var r=n.last;r===null?n.last=n.first=e:(r.next=e,e.prev=r,n.last=e)}function Ht(e,n,r){var i=he;i!==null&&(i.f&yt)!==0&&(e|=yt);var a={ctx:Ce,deps:null,nodes:null,f:e|ft|Et,first:null,fn:n,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,wv:0,ac:null};if(r)try{Bn(a),a.f|=bi}catch(v){throw pt(a),v}else n!==null&&Xt(a);var o=a;if(r&&o.deps===null&&o.teardown===null&&o.nodes===null&&o.first===o.last&&(o.f&qn)===0&&(o=o.first,(e&Zt)!==0&&(e&Hn)!==0&&o!==null&&(o.f|=Hn)),o!==null&&(o.parent=i,i!==null&&vl(o,i),re!==null&&(re.f&et)!==0&&(e&Tn)===0)){var c=re;(c.effects??=[]).push(o)}return a}function Ti(){return re!==null&&!Mt}function Ai(e){const n=Ht(dr,null,!1);return Ye(n,Ze),n.teardown=e,n}function di(e){Va();var n=he.f,r=!re&&(n&en)!==0&&(n&bi)===0;if(r){var i=Ce;(i.e??=[]).push(e)}else return Ja(e)}function Ja(e){return Ht(Rr|Pa,e,!1)}function _l(e){return Va(),Ht(dr|Pa,e,!0)}function pl(e){$t.ensure();const n=Ht(Tn|qn,e,!0);return(r={})=>new Promise(i=>{r.outro?xn(n,()=>{pt(n),i(void 0)}):(pt(n),i(void 0))})}function ar(e){return Ht(Rr,e,!1)}function Ct(e,n){var r=Ce,i={effect:null,ran:!1,deps:e};r.l.$.push(i),i.effect=hr(()=>{e(),!i.ran&&(i.ran=!0,f(n))})}function hl(){var e=Ce;hr(()=>{for(var n of e.l.$){n.deps();var r=n.effect;(r.f&Ze)!==0&&r.deps!==null&&Ye(r,Lt),Gn(r)&&Bn(r),n.ran=!1}})}function ml(e){return Ht(xi|qn,e,!0)}function hr(e,n=0){return Ht(dr|n,e,!0)}function $(e,n=[],r=[],i=[]){rl(i,n,r,a=>{Ht(dr,()=>e(...a.map(t)),!0)})}function Ei(e,n=0){var r=Ht(Zt|n,e,!0);return r}function At(e){return Ht(en|qn,e,!0)}function Qa(e){var n=e.teardown;if(n!==null){const r=fn,i=re;da(!0),_t(null);try{n.call(null)}finally{da(r),_t(i)}}}function Xa(e,n=!1){var r=e.first;for(e.first=e.last=null;r!==null;){const a=r.ac;a!==null&&jr(()=>{a.abort(Dn)});var i=r.next;(r.f&Tn)!==0?r.parent=null:pt(r,n),r=i}}function gl(e){for(var n=e.first;n!==null;){var r=n.next;(n.f&en)===0&&pt(n),n=r}}function pt(e,n=!0){var r=!1;(n||(e.f&Ea)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(bl(e.nodes.start,e.nodes.end),r=!0),Xa(e,n&&!r),Nr(e,0),Ye(e,Vt);var i=e.nodes&&e.nodes.t;if(i!==null)for(const o of i)o.stop();Qa(e);var a=e.parent;a!==null&&a.first!==null&&Za(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function bl(e,n){for(;e!==null;){var r=e===n?null:pr(e);e.remove(),e=r}}function Za(e){var n=e.parent,r=e.prev,i=e.next;r!==null&&(r.next=i),i!==null&&(i.prev=r),n!==null&&(n.first===e&&(n.first=i),n.last===e&&(n.last=r))}function xn(e,n,r=!0){var i=[];es(e,i,!0);var a=()=>{r&&pt(e),n&&n()},o=i.length;if(o>0){var c=()=>--o||a();for(var v of i)v.out(c)}else a()}function es(e,n,r){if((e.f&yt)===0){e.f^=yt;var i=e.nodes&&e.nodes.t;if(i!==null)for(const v of i)(v.is_global||r)&&n.push(v);for(var a=e.first;a!==null;){var o=a.next,c=(a.f&Hn)!==0||(a.f&en)!==0&&(e.f&Zt)!==0;es(a,n,c?r:!1),a=o}}}function Pi(e){ts(e,!0)}function ts(e,n){if((e.f&yt)!==0){e.f^=yt,(e.f&Ze)===0&&(Ye(e,ft),Xt(e));for(var r=e.first;r!==null;){var i=r.next,a=(r.f&Hn)!==0||(r.f&en)!==0;ts(r,a?n:!1),r=i}var o=e.nodes&&e.nodes.t;if(o!==null)for(const c of o)(c.is_global||n)&&c.in()}}function ns(e,n){if(e.nodes)for(var r=e.nodes.start,i=e.nodes.end;r!==null;){var a=r===i?null:pr(r);n.append(r),r=a}}let In=null;function xl(e){var n=In;try{if(In=new Set,f(e),n!==null)for(var r of In)n.add(r);return In}finally{In=n}}function fa(e){for(var n of xl(e))zn(n,n.v)}let yn=!1;function Mr(e){yn=e}let fn=!1;function da(e){fn=e}let re=null,Mt=!1;function _t(e){re=e}let he=null;function Ft(e){he=e}let Qt=null;function rs(e){re!==null&&(Qt===null?Qt=[e]:Qt.push(e))}let ut=null,xt=0,zt=null;function yl(e){zt=e}let is=1,fr=0,wn=fr;function va(e){wn=e}function as(){return++is}function Gn(e){var n=e.f;if((n&ft)!==0)return!0;if(n&et&&(e.f&=~kn),(n&Lt)!==0){for(var r=e.deps,i=r.length,a=0;a<i;a++){var o=r[a];if(Gn(o)&&Ua(o),o.wv>e.wv)return!0}(n&Et)!==0&&Ot===null&&Ye(e,Ze)}return!1}function ss(e,n,r=!0){var i=e.reactions;if(i!==null&&!Qt?.includes(e))for(var a=0;a<i.length;a++){var o=i[a];(o.f&et)!==0?ss(o,n,!1):n===o&&(r?Ye(o,ft):(o.f&Ze)!==0&&Ye(o,Lt),Xt(o))}}function os(e){var n=ut,r=xt,i=zt,a=re,o=Qt,c=Ce,v=Mt,_=wn,x=e.f;ut=null,xt=0,zt=null,re=(x&(en|Tn))===0?e:null,Qt=null,jn(e.ctx),Mt=!1,wn=++fr,e.ac!==null&&(jr(()=>{e.ac.abort(Dn)}),e.ac=null);try{e.f|=ci;var w=e.fn,P=w(),T=e.deps;if(ut!==null){var z;if(Nr(e,xt),T!==null&&xt>0)for(T.length=xt+ut.length,z=0;z<ut.length;z++)T[xt+z]=ut[z];else e.deps=T=ut;if(Ti()&&(e.f&Et)!==0)for(z=xt;z<T.length;z++)(T[z].reactions??=[]).push(e)}else T!==null&&xt<T.length&&(Nr(e,xt),T.length=xt);if(vr()&&zt!==null&&!Mt&&T!==null&&(e.f&(et|Lt|ft))===0)for(z=0;z<zt.length;z++)ss(zt[z],e);return a!==null&&a!==e&&(fr++,zt!==null&&(i===null?i=zt:i.push(...zt))),(e.f&ln)!==0&&(e.f^=ln),P}catch(te){return Ia(te)}finally{e.f^=ci,ut=n,xt=r,zt=i,re=a,Qt=o,jn(c),Mt=v,wn=_}}function wl(e,n){let r=n.reactions;if(r!==null){var i=ho.call(r,e);if(i!==-1){var a=r.length-1;a===0?r=n.reactions=null:(r[i]=r[a],r.pop())}}if(r===null&&(n.f&et)!==0&&(ut===null||!ut.includes(n))){var o=n;(o.f&Et)!==0&&(o.f^=Et,o.f&=~kn),ki(o),ja(o),Nr(o,0)}}function Nr(e,n){var r=e.deps;if(r!==null)for(var i=n;i<r.length;i++)wl(e,r[i])}function Bn(e){var n=e.f;if((n&Vt)===0){Ye(e,Ze);var r=he,i=yn;he=e,yn=!0;try{(n&(Zt|Aa))!==0?gl(e):Xa(e),Qa(e);var a=os(e);e.teardown=typeof a=="function"?a:null,e.wv=is;var o;oi&&Wo&&(e.f&ft)!==0&&e.deps}finally{yn=i,he=r}}}async function kl(){await Promise.resolve(),Qo()}function t(e){var n=e.f,r=(n&et)!==0;if(In?.add(e),re!==null&&!Mt){var i=he!==null&&(he.f&Vt)!==0;if(!i&&!Qt?.includes(e)){var a=re.deps;if((re.f&ci)!==0)e.rv<fr&&(e.rv=fr,ut===null&&a!==null&&a[xt]===e?xt++:ut===null?ut=[e]:ut.includes(e)||ut.push(e));else{(re.deps??=[]).push(e);var o=e.reactions;o===null?e.reactions=[re]:o.includes(re)||o.push(re)}}}if(fn&&un.has(e))return un.get(e);if(r){var c=e;if(fn){var v=c.v;return((c.f&Ze)===0&&c.reactions!==null||cs(c))&&(v=Si(c)),un.set(c,v),v}var _=(c.f&Et)===0&&!Mt&&re!==null&&(yn||(re.f&Et)!==0),x=c.deps===null;Gn(c)&&(_&&(c.f|=Et),Ua(c)),_&&!x&&ls(c)}if(Ot?.has(e))return Ot.get(e);if((e.f&ln)!==0)throw e.v;return e.v}function ls(e){if(e.deps!==null){e.f|=Et;for(const n of e.deps)(n.reactions??=[]).push(e),(n.f&et)!==0&&(n.f&Et)===0&&ls(n)}}function cs(e){if(e.v===Xe)return!0;if(e.deps===null)return!1;for(const n of e.deps)if(un.has(n)||(n.f&et)!==0&&cs(n))return!0;return!1}function f(e){var n=Mt;try{return Mt=!0,e()}finally{Mt=n}}function S(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(cn in e)vi(e);else if(!Array.isArray(e))for(let n in e){const r=e[n];typeof r=="object"&&r&&cn in r&&vi(r)}}}function vi(e,n=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!n.has(e)){n.add(e),e instanceof Date&&e.getTime();for(let i in e)try{vi(e[i],n)}catch{}const r=mi(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const i=za(r);for(let a in i){const o=i[a].get;if(o)try{o.call(e)}catch{}}}}}const Sl=["touchstart","touchmove"];function zl(e){return Sl.includes(e)}const Tl=new Set,_a=new Set;function Al(e,n,r,i={}){function a(o){if(i.capture||Zn.call(n,o),!o.cancelBubble)return jr(()=>r?.call(this,o))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?_r(()=>{n.addEventListener(e,a,i)}):n.addEventListener(e,a,i),a}function ce(e,n,r,i,a){var o={capture:i,passive:a},c=Al(e,n,r,o);(n===document.body||n===window||n===document||n instanceof HTMLMediaElement)&&Ai(()=>{n.removeEventListener(e,c,o)})}let pa=null;function Zn(e){var n=this,r=n.ownerDocument,i=e.type,a=e.composedPath?.()||[],o=a[0]||e.target;pa=e;var c=0,v=pa===e&&e.__root;if(v){var _=a.indexOf(v);if(_!==-1&&(n===document||n===window)){e.__root=n;return}var x=a.indexOf(n);if(x===-1)return;_<=x&&(c=_)}if(o=a[c]||e.target,o!==n){mo(e,"currentTarget",{configurable:!0,get(){return o||r}});var w=re,P=he;_t(null),Ft(null);try{for(var T,z=[];o!==null;){var te=o.assignedSlot||o.parentNode||o.host||null;try{var ye=o["__"+i];ye!=null&&(!o.disabled||e.target===o)&&ye.call(o,e)}catch(C){T?z.push(C):T=C}if(e.cancelBubble||te===n||te===null)break;o=te}if(T){for(let C of z)queueMicrotask(()=>{throw C});throw T}}finally{e.__root=n,delete e.currentTarget,_t(w),Ft(P)}}}function El(e){var n=document.createElement("template");return n.innerHTML=e.replaceAll("<!>","<!---->"),n.content}function Ir(e,n){var r=he;r.nodes===null&&(r.nodes={start:e,end:n,a:null,t:null})}function R(e,n){var r=(n&jo)!==0,i=(n&Uo)!==0,a,o=!e.startsWith("<!>");return()=>{a===void 0&&(a=El(o?e:"<!>"+e),r||(a=Or(a)));var c=i||Ya?document.importNode(a,!0):a.cloneNode(!0);if(r){var v=Or(c),_=c.lastChild;Ir(v,_)}else Ir(c,c);return c}}function Zr(e=""){{var n=Jt(e+"");return Ir(n,n),n}}function bt(){var e=document.createDocumentFragment(),n=document.createComment(""),r=Jt();return e.append(n,r),Ir(n,r),e}function k(e,n){e!==null&&e.before(n)}function H(e,n){var r=n==null?"":typeof n=="object"?n+"":n;r!==(e.__t??=e.nodeValue)&&(e.__t=r,e.nodeValue=r+"")}function Pl(e,n){return Rl(e,n)}const Mn=new Map;function Rl(e,{target:n,anchor:r,props:i={},events:a,context:o,intro:c=!0}){ul();var v=new Set,_=P=>{for(var T=0;T<P.length;T++){var z=P[T];if(!v.has(z)){v.add(z);var te=zl(z);n.addEventListener(z,Zn,{passive:te});var ye=Mn.get(z);ye===void 0?(document.addEventListener(z,Zn,{passive:te}),Mn.set(z,1)):Mn.set(z,ye+1)}}};_(Fr(Tl)),_a.add(_);var x=void 0,w=pl(()=>{var P=r??n.appendChild(Jt());return tl(P,{pending:()=>{}},T=>{if(o){yi({});var z=Ce;z.c=o}a&&(i.$$events=a),x=e(T,i)||{},o&&wi()}),()=>{for(var T of v){n.removeEventListener(T,Zn);var z=Mn.get(T);--z===0?(document.removeEventListener(T,Zn),Mn.delete(T)):Mn.set(T,z)}_a.delete(_),P!==r&&P.parentNode?.removeChild(P)}});return Cl.set(x,w),x}let Cl=new WeakMap;class Ol{anchor;#t=new Map;#s=new Map;#e=new Map;#i=new Set;#a=!0;constructor(n,r=!0){this.anchor=n,this.#a=r}#r=()=>{var n=ve;if(this.#t.has(n)){var r=this.#t.get(n),i=this.#s.get(r);if(i)Pi(i),this.#i.delete(r);else{var a=this.#e.get(r);a&&(this.#s.set(r,a.effect),this.#e.delete(r),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),i=a.effect)}for(const[o,c]of this.#t){if(this.#t.delete(o),o===n)break;const v=this.#e.get(c);v&&(pt(v.effect),this.#e.delete(c))}for(const[o,c]of this.#s){if(o===r||this.#i.has(o))continue;const v=()=>{if(Array.from(this.#t.values()).includes(o)){var x=document.createDocumentFragment();ns(c,x),x.append(Jt()),this.#e.set(o,{effect:c,fragment:x})}else pt(c);this.#i.delete(o),this.#s.delete(o)};this.#a||!i?(this.#i.add(o),xn(c,v,!1)):v()}}};#n=n=>{this.#t.delete(n);const r=Array.from(this.#t.values());for(const[i,a]of this.#e)r.includes(i)||(pt(a.effect),this.#e.delete(i))};ensure(n,r){var i=ve,a=Ka();if(r&&!this.#s.has(n)&&!this.#e.has(n))if(a){var o=document.createDocumentFragment(),c=Jt();o.append(c),this.#e.set(n,{effect:At(()=>r(c)),fragment:o})}else this.#s.set(n,At(()=>r(this.anchor)));if(this.#t.set(i,n),a){for(const[v,_]of this.#s)v===n?i.skipped_effects.delete(_):i.skipped_effects.add(_);for(const[v,_]of this.#e)v===n?i.skipped_effects.delete(_.effect):i.skipped_effects.add(_.effect);i.oncommit(this.#r),i.ondiscard(this.#n)}else this.#r()}}function M(e,n,r=!1){var i=new Ol(e),a=r?Hn:0;function o(c,v){i.ensure(c,v)}Ei(()=>{var c=!1;n((v,_=!0)=>{c=!0,o(_,v)}),c||o(!1,null)},a)}function Yt(e,n){return n}function Ml(e,n,r){for(var i=[],a=n.length,o,c=n.length,v=0;v<a;v++){let P=n[v];xn(P,()=>{if(o){if(o.pending.delete(P),o.done.add(P),o.pending.size===0){var T=e.outrogroups;_i(Fr(o.done)),T.delete(o),T.size===0&&(e.outrogroups=null)}}else c-=1},!1)}if(c===0){var _=i.length===0&&r!==null;if(_){var x=r,w=x.parentNode;fl(w),w.append(x),e.items.clear()}_i(n,!_)}else o={pending:new Set(n),done:new Set},(e.outrogroups??=new Set).add(o)}function _i(e,n=!0){for(var r=0;r<e.length;r++)pt(e[r],n)}var ha;function $e(e,n,r,i,a,o=null){var c=e,v=new Map,_=(n&Ca)!==0;if(_){var x=e;c=x.appendChild(Jt())}var w=null,P=I(()=>{var F=r();return $r(F)?F:F==null?[]:Fr(F)}),T,z=!0;function te(){C.fallback=w,Nl(C,T,c,n,i),w!==null&&(T.length===0?(w.f&Kt)===0?Pi(w):(w.f^=Kt,er(w,null,c)):xn(w,()=>{w=null}))}var ye=Ei(()=>{T=t(P);for(var F=T.length,ne=new Set,je=ve,l=Ka(),d=0;d<F;d+=1){var Re=T[d],ie=i(Re,d),Ie=z?null:v.get(ie);Ie?(Ie.v&&zn(Ie.v,Re),Ie.i&&zn(Ie.i,d),l&&je.skipped_effects.delete(Ie.e)):(Ie=Il(v,z?c:ha??=Jt(),Re,ie,d,a,n,r),z||(Ie.e.f|=Kt),v.set(ie,Ie)),ne.add(ie)}if(F===0&&o&&!w&&(z?w=At(()=>o(c)):(w=At(()=>o(ha??=Jt())),w.f|=Kt)),!z)if(l){for(const[Oe,Me]of v)ne.has(Oe)||je.skipped_effects.add(Me.e);je.oncommit(te),je.ondiscard(()=>{})}else te();t(P)}),C={effect:ye,items:v,outrogroups:null,fallback:w};z=!1}function Nl(e,n,r,i,a){var o=(i&Do)!==0,c=n.length,v=e.items,_=e.effect.first,x,w=null,P,T=[],z=[],te,ye,C,F;if(o)for(F=0;F<c;F+=1)te=n[F],ye=a(te,F),C=v.get(ye).e,(C.f&Kt)===0&&(C.nodes?.a?.measure(),(P??=new Set).add(C));for(F=0;F<c;F+=1){if(te=n[F],ye=a(te,F),C=v.get(ye).e,e.outrogroups!==null)for(const Me of e.outrogroups)Me.pending.delete(C),Me.done.delete(C);if((C.f&Kt)!==0)if(C.f^=Kt,C===_)er(C,null,r);else{var ne=w?w.next:_;C===e.effect.last&&(e.effect.last=C.prev),C.prev&&(C.prev.next=C.next),C.next&&(C.next.prev=C.prev),an(e,w,C),an(e,C,ne),er(C,ne,r),w=C,T=[],z=[],_=w.next;continue}if((C.f&yt)!==0&&(Pi(C),o&&(C.nodes?.a?.unfix(),(P??=new Set).delete(C))),C!==_){if(x!==void 0&&x.has(C)){if(T.length<z.length){var je=z[0],l;w=je.prev;var d=T[0],Re=T[T.length-1];for(l=0;l<T.length;l+=1)er(T[l],je,r);for(l=0;l<z.length;l+=1)x.delete(z[l]);an(e,d.prev,Re.next),an(e,w,d),an(e,Re,je),_=je,w=Re,F-=1,T=[],z=[]}else x.delete(C),er(C,_,r),an(e,C.prev,C.next),an(e,C,w===null?e.effect.first:w.next),an(e,w,C),w=C;continue}for(T=[],z=[];_!==null&&_!==C;)(x??=new Set).add(_),z.push(_),_=_.next;if(_===null)continue}(C.f&Kt)===0&&T.push(C),w=C,_=C.next}if(e.outrogroups!==null){for(const Me of e.outrogroups)Me.pending.size===0&&(_i(Fr(Me.done)),e.outrogroups?.delete(Me));e.outrogroups.size===0&&(e.outrogroups=null)}if(_!==null||x!==void 0){var ie=[];if(x!==void 0)for(C of x)(C.f&yt)===0&&ie.push(C);for(;_!==null;)(_.f&yt)===0&&_!==e.fallback&&ie.push(_),_=_.next;var Ie=ie.length;if(Ie>0){var Oe=(i&Ca)!==0&&c===0?r:null;if(o){for(F=0;F<Ie;F+=1)ie[F].nodes?.a?.measure();for(F=0;F<Ie;F+=1)ie[F].nodes?.a?.fix()}Ml(e,ie,Oe)}}o&&_r(()=>{if(P!==void 0)for(C of P)C.nodes?.a?.apply()})}function Il(e,n,r,i,a,o,c,v){var _=(c&No)!==0?(c&$o)===0?pe(r,!1,!1):Sn(r):null,x=(c&Io)!==0?Sn(a):null;return{v:_,i:x,e:At(()=>(o(n,_??r,x??a,v),()=>{e.delete(i)}))}}function er(e,n,r){if(e.nodes)for(var i=e.nodes.start,a=e.nodes.end,o=n&&(n.f&Kt)===0?n.nodes.start:r;i!==null;){var c=pr(i);if(o.before(i),i===a)return;i=c}}function an(e,n,r){n===null?e.effect.first=r:n.next=r,r===null?e.effect.last=n:r.prev=n}function Dl(e,n,r){ar(()=>{var i=f(()=>n(e,r?.())||{});if(i?.destroy)return()=>i.destroy()})}function us(e){var n,r,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(n=0;n<a;n++)e[n]&&(r=us(e[n]))&&(i&&(i+=" "),i+=r)}else for(r in e)e[r]&&(i&&(i+=" "),i+=r);return i}function $l(){for(var e,n,r=0,i="",a=arguments.length;r<a;r++)(e=arguments[r])&&(n=us(e))&&(i&&(i+=" "),i+=n);return i}function Fl(e){return typeof e=="object"?$l(e):e??""}function Ll(e,n,r){var i=e==null?"":""+e;return i===""?null:i}function Hl(e,n){return e==null?null:String(e)}function Pe(e,n,r,i,a,o){var c=e.__className;if(c!==r||c===void 0){var v=Ll(r);v==null?e.removeAttribute("class"):e.className=v,e.__className=r}return o}function jl(e,n,r,i){var a=e.__style;if(a!==n){var o=Hl(n);o==null?e.removeAttribute("style"):e.style.cssText=o,e.__style=n}return i}function sr(e,n,r=!1){if(e.multiple){if(n==null)return;if(!$r(n))return qo();for(var i of e.options)i.selected=n.includes(or(i));return}for(i of e.options){var a=or(i);if(cl(a,n)){i.selected=!0;return}}(!r||n!==void 0)&&(e.selectedIndex=-1)}function Er(e){var n=new MutationObserver(()=>{sr(e,e.__value)});n.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Ai(()=>{n.disconnect()})}function ma(e,n,r=n){var i=new WeakSet,a=!0;zi(e,"change",o=>{var c=o?"[selected]":":checked",v;if(e.multiple)v=[].map.call(e.querySelectorAll(c),or);else{var _=e.querySelector(c)??e.querySelector("option:not([disabled])");v=_&&or(_)}r(v),ve!==null&&i.add(ve)}),ar(()=>{var o=n();if(e===document.activeElement){var c=nr??ve;if(i.has(c))return}if(sr(e,o,a),a&&o===void 0){var v=e.querySelector(":checked");v!==null&&(o=or(v),r(o))}e.__value=o,a=!1}),Er(e)}function or(e){return"__value"in e?e.__value:e.value}const Ul=Symbol("is custom element"),Bl=Symbol("is html");function Xn(e,n){var r=Ri(e);r.value===(r.value=n??void 0)||e.value===n&&(n!==0||e.nodeName!=="PROGRESS")||(e.value=n??"")}function Tr(e,n){var r=Ri(e);r.checked!==(r.checked=n??void 0)&&(e.checked=n)}function lr(e,n,r,i){var a=Ri(e);a[n]!==(a[n]=r)&&(n==="loading"&&(e[ko]=r),r==null?e.removeAttribute(n):typeof r!="string"&&ql(e).includes(n)?e[n]=r:e.setAttribute(n,r))}function Ri(e){return e.__attributes??={[Ul]:e.nodeName.includes("-"),[Bl]:e.namespaceURI===Bo}}var ga=new Map;function ql(e){var n=e.getAttribute("is")||e.nodeName,r=ga.get(n);if(r)return r;ga.set(n,r=[]);for(var i,a=e,o=Element.prototype;o!==a;){i=za(a);for(var c in i)i[c].set&&r.push(c);a=mi(a)}return r}function Yl(e,n,r=n){var i=new WeakSet;zi(e,"input",async a=>{var o=a?e.defaultValue:e.value;if(o=ei(e)?ti(o):o,r(o),ve!==null&&i.add(ve),await kl(),o!==(o=n())){var c=e.selectionStart,v=e.selectionEnd,_=e.value.length;if(e.value=o??"",v!==null){var x=e.value.length;c===v&&v===_&&x>_?(e.selectionStart=x,e.selectionEnd=x):(e.selectionStart=c,e.selectionEnd=Math.min(v,x))}}}),f(n)==null&&e.value&&(r(ei(e)?ti(e.value):e.value),ve!==null&&i.add(ve)),hr(()=>{var a=n();if(e===document.activeElement){var o=nr??ve;if(i.has(o))return}ei(e)&&a===ti(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Gl(e,n,r=n){zi(e,"change",i=>{var a=i?e.defaultChecked:e.checked;r(a)}),f(n)==null&&r(e.checked),hr(()=>{var i=n();e.checked=!!i})}function ei(e){var n=e.type;return n==="number"||n==="range"}function ti(e){return e===""?null:+e}function fs(e=!1){const n=Ce,r=n.l.u;if(!r)return;let i=()=>S(n.s);if(e){let a=0,o={};const c=Hr(()=>{let v=!1;const _=n.s;for(const x in _)_[x]!==o[x]&&(o[x]=_[x],v=!0);return v&&a++,a});i=()=>t(c)}r.b.length&&_l(()=>{ba(n,i),li(r.b)}),di(()=>{const a=f(()=>r.m.map(xo));return()=>{for(const o of a)typeof o=="function"&&o()}}),r.a.length&&di(()=>{ba(n,i),li(r.a)})}function ba(e,n){if(e.l.s)for(const r of e.l.s)t(r);n()}function Wl(e,n){var r=e.$$events?.[n.type],i=$r(r)?r.slice():r==null?[]:[r];for(var a of i)a.call(this,n)}let Ar=!1;function Kl(e){var n=Ar;try{return Ar=!1,[e(),Ar]}finally{Ar=n}}function sn(e,n,r,i){var a=!Yn||(r&Fo)!==0,o=(r&Ho)!==0,c=i,v=!0,_=()=>(v&&(v=!1,c=i),c),x;{var w=cn in e||wo in e;x=Ln(e,n)?.set??(w&&n in e?ne=>e[n]=ne:void 0)}var P,T=!1;[P,T]=Kl(()=>e[n]),P===void 0&&i!==void 0&&(P=_(),x&&(a&&Po(),x(P)));var z;if(a?z=()=>{var ne=e[n];return ne===void 0?_():(v=!0,ne)}:z=()=>{var ne=e[n];return ne!==void 0&&(c=void 0),ne===void 0?c:ne},a&&(r&Lo)===0)return z;if(x){var te=e.$$legacy;return(function(ne,je){return arguments.length>0?((!a||!je||te||T)&&x(je?z():ne),ne):z()})}var ye=!1,C=I(()=>(ye=!1,z()));t(C);var F=he;return(function(ne,je){if(arguments.length>0){const l=je?t(C):a&&o?$n(ne):ne;return g(C,l),ye=!0,c!==void 0&&(c=l),ne}return fn&&ye||(F.f&Vt)!==0?C.v:t(C)})}function ds(e){Ce===null&&Ra(),Yn&&Ce.l!==null?Jl(Ce).m.push(e):di(()=>{const n=f(e);if(typeof n=="function")return n})}function Vl(e){Ce===null&&Ra(),ds(()=>()=>f(e))}function Jl(e){var n=e.l;return n.u??={a:[],b:[],m:[]}}const Ql="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Ql);Ko();const Xl={Clubs:"clubs",Diamonds:"diamonds",Hearts:"hearts",Spades:"spades"},Zl={Two:"2",Three:"3",Four:"4",Five:"5",Six:"6",Seven:"7",Eight:"8",Nine:"9",Ten:"10",Jack:"jack",Queen:"queen",King:"king",Ace:"ace"},ec={Clubs:"♣",Diamonds:"♦",Hearts:"♥",Spades:"♠"},tc={Two:"2",Three:"3",Four:"4",Five:"5",Six:"6",Seven:"7",Eight:"8",Nine:"9",Ten:"10",Jack:"J",Queen:"Q",King:"K",Ace:"A"},nc="/durak-online/".replace(/\/+$/,"/");function vs(e){const n=String(e||"").replace(/^\/+/,"");return`${nc}${n}`}function rc(e){if(!e)return null;const n=Zl[e.rank],r=Xl[e.suit];return!n||!r?null:`${n}_of_${r}.png`}function pi(){return vs("cards/back.png")}function xa(e){const n=rc(e);return n?vs(`cards/${n}`):pi()}function Gt(e){return ec[e]||"?"}function vt(e){return e?`${tc[e.rank]||e.rank}${Gt(e.suit)}`:""}var ic=R('<div class="absolute inset-0 bg-black/30 rounded-[4px] pointer-events-none"></div> <div class="absolute bottom-0 left-0 right-0 bg-amber-500/80 text-[8px] text-center text-black font-medium py-0.5">known</div>',1),ac=R('<div class="absolute top-0 right-0 bg-amber-500/80 text-[7px] text-black font-medium px-1 py-0.5 rounded-bl">!</div>'),sc=R('<button><img class="h-full w-full rounded-[4px] bg-zinc-50 object-contain" draggable="false" loading="lazy"/> <!> <!></button>');function Je(e,n){yi(n,!1);let r=sn(n,"card",8,null),i=sn(n,"faceDown",8,!1),a=sn(n,"selectable",8,!1),o=sn(n,"selected",8,!1),c=sn(n,"disabled",8,!1),v=sn(n,"size",8,"md"),_=sn(n,"known",8,!1),x=sn(n,"revealed",8,!1);const w={sm:"w-12 h-16",md:"w-16 h-24",lg:"w-24 h-36"};fs();var P=sc(),T=p(P),z=b(T,2);{var te=F=>{var ne=ic();k(F,ne)};M(z,F=>{_()&&F(te)})}var ye=b(z,2);{var C=F=>{var ne=ac();k(F,ne)};M(ye,F=>{x()&&F(C)})}$((F,ne,je)=>{Pe(P,1,(S(v()),S(a()),S(c()),S(o()),S(_()),S(x()),f(()=>`relative ${w[v()]||w.md} overflow-hidden rounded-md border border-zinc-700/70 bg-zinc-50 p-0.5 shadow-md shadow-black/40 ${a()&&!c()?"hover:-translate-y-1 hover:border-zinc-500":""} ${o()?"ring-2 ring-indigo-500":""} ${c()?"opacity-60":""} ${_()?"ring-1 ring-amber-500/50":""} ${x()?"ring-1 ring-amber-500/60":""}`))),P.disabled=c(),lr(P,"aria-label",F),lr(T,"src",ne),lr(T,"alt",je)},[()=>(S(i()),S(vt),S(r()),f(()=>i()?"Face-down card":vt(r()))),()=>(S(i()),S(pi),S(xa),S(r()),f(()=>i()?pi():xa(r()))),()=>(S(i()),S(vt),S(r()),f(()=>i()?"Card back":vt(r())))]),ce("click",P,function(F){Wl.call(this,n,F)}),k(e,P),wi()}const _s="durak_game_settings",Ur=2,j={Human:"Human",Random:"Random",MCTS:"MCTS",Real:"Real"},Fn={_version:Ur,deckSize:36,numPlayers:2,trumpReflecting:!0,reflecting:!0,numThreads:Math.max(4,Math.min(8,Math.floor((typeof navigator<"u"&&navigator.hardwareConcurrency||8)/2))),playerNames:{P0:"You",P1:"Player 1",P2:"Player 2",P3:"Player 3",P4:"Player 4",P5:"Player 5"},playerTypes:{P0:j.Human,P1:j.MCTS,P2:j.MCTS,P3:j.MCTS,P4:j.MCTS,P5:j.MCTS},computerShuffle:!1,mctsThinkingTimeMs:2e3,mctsDeterminizations:20,showHints:!0,hintDeterminizations:50,hintRollouts:5e3};function oc(e){for(let n=0;n<e.numPlayers;n++){const r=`P${n}`;if(e.playerTypes[r]===j.Human)return r}return null}function lc(){try{const e=localStorage.getItem(_s);if(e){const n=JSON.parse(e);if(!n._version||n._version<Ur)return cc(n);const r={...Fn,...n,playerNames:{...Fn.playerNames,...n.playerNames||{}},playerTypes:{...Fn.playerTypes,...n.playerTypes||{}}};for(let i=1;i<6;i++){const a=`P${i}`;r.playerTypes[a]===j.Human&&(r.playerTypes[a]=j.Random)}return r}}catch(e){console.warn("Failed to load settings:",e)}return{...Fn}}function cc(e){const n={...Fn};return e.deckSize&&(n.deckSize=e.deckSize),e.numPlayers&&(n.numPlayers=e.numPlayers),e.trumpReflecting!==void 0&&(n.trumpReflecting=e.trumpReflecting),e.reflecting!==void 0&&(n.reflecting=e.reflecting),e.numThreads&&(n.numThreads=e.numThreads),e.playerNames&&(n.playerNames={...Fn.playerNames,...e.playerNames}),console.log("Migrated settings from version",e._version||1,"to",Ur),n}function Qe(e){try{localStorage.setItem(_s,JSON.stringify({...e,_version:Ur}))}catch(n){console.warn("Failed to save settings:",n)}}function ya(e){return{deck_size:e.deckSize,num_players:e.numPlayers,trump_reflecting:e.trumpReflecting,reflecting:e.reflecting}}function uc(e){const n=ze.all_cards_deducible(e);if(n[2])throw st(n[1]);return st(n[0])}function fc(e,n){const r=ze.apply_action(e,n);if(r[2])throw st(r[1]);return st(r[0])}function wa(e){const n=ze.deduce_cards(e);if(n[2])throw st(n[1]);return st(n[0])}function ka(e){const n=ze.get_durak(e);if(n[2])throw st(n[1]);return st(n[0])}function ni(e){const n=ze.legal_actions(e);if(n[2])throw st(n[1]);return st(n[0])}function dc(e,n){const r=ze.new_computer_game(e,n);if(r[2])throw st(r[1]);return st(r[0])}function vc(e,n){const r=ze.new_manual_game(e,n);if(r[2])throw st(r[1]);return st(r[0])}function ri(e){const n=ze.pick_random_action(e);if(n[2])throw st(n[1]);return st(n[0])}function _c(){return{__proto__:null,"./durak_wasm_bg.js":{__proto__:null,__wbg_Error_8c4e43fe74559d73:function(n,r){return Error(ii(n,r))},__wbg_Number_04624de7d0e8332d:function(n){return Number(n)},__wbg___wbindgen_bigint_get_as_i64_8fcf4ce7f1ca72a2:function(n,r){const i=r,a=typeof i=="bigint"?i:void 0;on().setBigInt64(n+8,Nn(a)?BigInt(0):a,!0),on().setInt32(n+0,!Nn(a),!0)},__wbg___wbindgen_boolean_get_bbbb1c18aa2f5e25:function(n){const r=n,i=typeof r=="boolean"?r:void 0;return Nn(i)?16777215:i?1:0},__wbg___wbindgen_debug_string_0bc8482c6e3508ae:function(n,r){const i=hi(r),a=Sa(i,ze.__wbindgen_malloc,ze.__wbindgen_realloc),o=Dr;on().setInt32(n+4,o,!0),on().setInt32(n+0,a,!0)},__wbg___wbindgen_in_47fa6863be6f2f25:function(n,r){return n in r},__wbg___wbindgen_is_bigint_31b12575b56f32fc:function(n){return typeof n=="bigint"},__wbg___wbindgen_is_function_0095a73b8b156f76:function(n){return typeof n=="function"},__wbg___wbindgen_is_object_5ae8e5880f2c1fbd:function(n){const r=n;return typeof r=="object"&&r!==null},__wbg___wbindgen_is_string_cd444516edc5b180:function(n){return typeof n=="string"},__wbg___wbindgen_is_undefined_9e4d92534c42d778:function(n){return n===void 0},__wbg___wbindgen_jsval_eq_11888390b0186270:function(n,r){return n===r},__wbg___wbindgen_jsval_loose_eq_9dd77d8cd6671811:function(n,r){return n==r},__wbg___wbindgen_number_get_8ff4255516ccad3e:function(n,r){const i=r,a=typeof i=="number"?i:void 0;on().setFloat64(n+8,Nn(a)?0:a,!0),on().setInt32(n+0,!Nn(a),!0)},__wbg___wbindgen_string_get_72fb696202c56729:function(n,r){const i=r,a=typeof i=="string"?i:void 0;var o=Nn(a)?0:Sa(a,ze.__wbindgen_malloc,ze.__wbindgen_realloc),c=Dr;on().setInt32(n+4,c,!0),on().setInt32(n+0,o,!0)},__wbg___wbindgen_throw_be289d5034ed271b:function(n,r){throw new Error(ii(n,r))},__wbg_call_389efe28435a9388:function(){return ai(function(n,r){return n.call(r)},arguments)},__wbg_done_57b39ecd9addfe81:function(n){return n.done},__wbg_entries_58c7934c745daac7:function(n){return Object.entries(n)},__wbg_get_9b94d73e6221f75c:function(n,r){return n[r>>>0]},__wbg_get_b3ed3ad4be2bc8ac:function(){return ai(function(n,r){return Reflect.get(n,r)},arguments)},__wbg_get_with_ref_key_1dc361bd10053bfe:function(n,r){return n[r]},__wbg_instanceof_ArrayBuffer_c367199e2fa2aa04:function(n){let r;try{r=n instanceof ArrayBuffer}catch{r=!1}return r},__wbg_instanceof_Map_53af74335dec57f4:function(n){let r;try{r=n instanceof Map}catch{r=!1}return r},__wbg_instanceof_Uint8Array_9b9075935c74707c:function(n){let r;try{r=n instanceof Uint8Array}catch{r=!1}return r},__wbg_isArray_d314bb98fcf08331:function(n){return Array.isArray(n)},__wbg_isSafeInteger_bfbc7332a9768d2a:function(n){return Number.isSafeInteger(n)},__wbg_iterator_6ff6560ca1568e55:function(){return Symbol.iterator},__wbg_length_32ed9a279acd054c:function(n){return n.length},__wbg_length_35a7bace40f36eac:function(n){return n.length},__wbg_new_361308b2356cecd0:function(){return new Object},__wbg_new_3eb36ae241fe6f44:function(){return new Array},__wbg_new_dd2b680c8bf6ae29:function(n){return new Uint8Array(n)},__wbg_next_3482f54c49e8af19:function(){return ai(function(n){return n.next()},arguments)},__wbg_next_418f80d8f5303233:function(n){return n.next},__wbg_prototypesetcall_bdcdcc5842e4d77d:function(n,r,i){Uint8Array.prototype.set.call(hc(n,r),i)},__wbg_random_912284dbf636f269:function(){return Math.random()},__wbg_set_3f1d0b984ed272ed:function(n,r,i){n[r]=i},__wbg_set_f43e577aea94465b:function(n,r,i){n[r>>>0]=i},__wbg_value_0546255b415e96c1:function(n){return n.value},__wbindgen_cast_0000000000000001:function(n){return n},__wbindgen_cast_0000000000000002:function(n){return n},__wbindgen_cast_0000000000000003:function(n,r){return ii(n,r)},__wbindgen_cast_0000000000000004:function(n){return BigInt.asUintN(64,n)},__wbindgen_init_externref_table:function(){const n=ze.__wbindgen_externrefs,r=n.grow(4);n.set(0,void 0),n.set(r+0,void 0),n.set(r+1,null),n.set(r+2,!0),n.set(r+3,!1)}}}}function pc(e){const n=ze.__externref_table_alloc();return ze.__wbindgen_externrefs.set(n,e),n}function hi(e){const n=typeof e;if(n=="number"||n=="boolean"||e==null)return`${e}`;if(n=="string")return`"${e}"`;if(n=="symbol"){const a=e.description;return a==null?"Symbol":`Symbol(${a})`}if(n=="function"){const a=e.name;return typeof a=="string"&&a.length>0?`Function(${a})`:"Function"}if(Array.isArray(e)){const a=e.length;let o="[";a>0&&(o+=hi(e[0]));for(let c=1;c<a;c++)o+=", "+hi(e[c]);return o+="]",o}const r=/\[object ([^\]]+)\]/.exec(toString.call(e));let i;if(r&&r.length>1)i=r[1];else return toString.call(e);if(i=="Object")try{return"Object("+JSON.stringify(e)+")"}catch{return"Object"}return e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:i}function hc(e,n){return e=e>>>0,cr().subarray(e/1,e/1+n)}let gn=null;function on(){return(gn===null||gn.buffer.detached===!0||gn.buffer.detached===void 0&&gn.buffer!==ze.memory.buffer)&&(gn=new DataView(ze.memory.buffer)),gn}function ii(e,n){return e=e>>>0,gc(e,n)}let tr=null;function cr(){return(tr===null||tr.byteLength===0)&&(tr=new Uint8Array(ze.memory.buffer)),tr}function ai(e,n){try{return e.apply(this,n)}catch(r){const i=pc(r);ze.__wbindgen_exn_store(i)}}function Nn(e){return e==null}function Sa(e,n,r){if(r===void 0){const v=ur.encode(e),_=n(v.length,1)>>>0;return cr().subarray(_,_+v.length).set(v),Dr=v.length,_}let i=e.length,a=n(i,1)>>>0;const o=cr();let c=0;for(;c<i;c++){const v=e.charCodeAt(c);if(v>127)break;o[a+c]=v}if(c!==i){c!==0&&(e=e.slice(c)),a=r(a,i,i=c+e.length*3,1)>>>0;const v=cr().subarray(a+c,a+i),_=ur.encodeInto(e,v);c+=_.written,a=r(a,i,c,1)>>>0}return Dr=c,a}function st(e){const n=ze.__wbindgen_externrefs.get(e);return ze.__externref_table_dealloc(e),n}let Pr=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});Pr.decode();const mc=2146435072;let si=0;function gc(e,n){return si+=n,si>=mc&&(Pr=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),Pr.decode(),si=n),Pr.decode(cr().subarray(e,e+n))}const ur=new TextEncoder;"encodeInto"in ur||(ur.encodeInto=function(e,n){const r=ur.encode(e);return n.set(r),{read:e.length,written:r.length}});let Dr=0,ze;function bc(e,n){return ze=e.exports,gn=null,tr=null,ze.__wbindgen_start(),ze}async function xc(e,n){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,n)}catch(a){if(e.ok&&r(e.type)&&e.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",a);else throw a}const i=await e.arrayBuffer();return await WebAssembly.instantiate(i,n)}else{const i=await WebAssembly.instantiate(e,n);return i instanceof WebAssembly.Instance?{instance:i,module:e}:i}function r(i){switch(i){case"basic":case"cors":case"default":return!0}return!1}}async function yc(e){if(ze!==void 0)return ze;e!==void 0&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),e===void 0&&(e=new URL("/durak-online/assets/durak_wasm_bg-FivqPYsn.wasm",import.meta.url));const n=_c();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:r,module:i}=await xc(await e,n);return bc(r)}var wc=R('<div class="mt-3 rounded-lg border border-red-900/60 bg-red-950/40 p-3 text-sm text-red-200"><span class="font-medium">Error:</span> <span class="font-mono text-xs"> </span></div>'),kc=R('<span class="px-2 py-1 text-xs font-medium text-indigo-300">You</span>'),Sc=R('<input type="text" class="w-16 px-1.5 py-1 text-xs bg-zinc-800 border-none text-white focus:outline-none"/>'),zc=R('<button class="px-2 py-1 text-xs font-medium text-zinc-300 hover:bg-zinc-800" title="Click to rename"> </button>'),Tc=R('<select class="h-6 px-1 text-xs bg-zinc-900 border-l border-zinc-700 text-zinc-400 focus:outline-none cursor-pointer"><option>Random</option><option>MCTS</option></select>'),Ac=R('<span class="h-6 flex items-center px-1.5 text-xs border-l border-zinc-700 text-indigo-400">Human</span>'),Ec=R('<span class="h-6 flex items-center px-1.5 text-xs border-l border-zinc-700 text-indigo-400"> </span>'),Pc=R("<div><!> <!></div>"),Rc=R('<button class="w-6 h-6 flex items-center justify-center rounded text-xs bg-zinc-800 text-zinc-400 hover:bg-zinc-700 hover:text-zinc-200 disabled:opacity-30">−</button> <button class="w-6 h-6 flex items-center justify-center rounded text-xs bg-zinc-800 text-zinc-400 hover:bg-zinc-700 hover:text-zinc-200 disabled:opacity-30">+</button>',1),Cc=R('<div class="flex items-center gap-2"><label class="flex items-center gap-1 text-xs text-zinc-400"><span>Time:</span> <input type="number" min="500" max="30000" step="500" class="w-16 px-1 py-0.5 rounded text-xs bg-zinc-800 border border-zinc-700"/> <span class="text-zinc-500">ms</span></label> <label class="flex items-center gap-1 text-xs text-zinc-400"><span>Determinizations:</span> <input type="number" min="1" max="100" class="w-12 px-1 py-0.5 rounded text-xs bg-zinc-800 border border-zinc-700"/></label></div>'),Oc=R('<button class="ml-auto rounded-md border border-zinc-700 bg-zinc-950 px-3 py-1 text-xs font-medium hover:bg-zinc-900">Change</button>'),Mc=R('<div class="text-xs text-zinc-500 mb-3">Select the card at the bottom of the deck.</div> <div class="grid grid-cols-6 sm:grid-cols-9 md:grid-cols-12 gap-1 max-h-64 overflow-y-auto p-1"></div>',1),Nc=R('<div class="flex items-center gap-3"><!> <div><div class="text-sm text-zinc-300 font-medium"> </div> <div class="text-xs text-zinc-500 mt-1">Trump: <span class="text-amber-400 font-medium"> </span></div></div></div>'),Ic=R('<div class="text-xs text-zinc-500 self-center">Click cards below to add.</div>'),Dc=R('<div class="mt-3"><div class="text-xs text-zinc-400 mb-2"> </div> <div class="flex flex-wrap gap-1"></div></div>'),$c=R('<div class="rounded-lg border border-zinc-800 bg-zinc-950/30 p-4"><div class="flex items-center gap-2 mb-3"><span>2</span> <span class="text-sm font-medium text-zinc-300">Select your 6 hand cards</span> <span class="text-xs text-zinc-500 ml-auto"> </span></div> <div class="flex flex-wrap gap-2 min-h-[4rem] p-2 rounded border border-zinc-800 bg-zinc-950/50"><!> <!></div> <!></div>'),Fc=R('Your lowest: <span class="text-zinc-300 font-medium"> </span>',1),Lc=R('<div class="flex items-center gap-2 ml-2 px-2 py-1 rounded border border-indigo-600/50 bg-indigo-950/30"><!> <button class="text-xs text-zinc-400 hover:text-zinc-200">✕</button></div>'),Hc=R("<button><!></button>"),jc=R('<div><div class="text-xs text-zinc-400 mb-2"> </div> <div class="flex flex-wrap items-center gap-2"><button>No Trump</button> <!></div></div>'),Uc=R('<div class="flex items-center justify-between p-4 rounded-lg border border-zinc-800 bg-zinc-950/30"><div><div> </div> <div class="text-xs text-zinc-500">(By lowest trump)</div></div> <button class="rounded-md bg-indigo-600 px-6 py-2.5 text-sm font-medium hover:bg-indigo-500">Start Game</button></div>'),Bc=R(`<div class="rounded-lg border border-zinc-800 bg-zinc-950/30 p-4"><div class="flex items-center gap-2 mb-3"><span>3</span> <span class="text-sm font-medium text-zinc-300">Opponent's lowest trump <span class="text-amber-400"> </span></span></div> <div class="text-xs text-zinc-500 mb-3"><!></div> <div class="space-y-4"></div></div> <!>`,1),qc=R('<div class="mt-3 rounded-xl border border-zinc-800 bg-zinc-900/40 p-4 space-y-4"><div class="rounded-lg border border-zinc-800 bg-zinc-950/30 p-4"><div class="text-sm font-medium text-zinc-300 mb-3">Game Rules</div> <div class="grid gap-4 sm:grid-cols-3"><label class="block"><span class="text-xs text-zinc-400">Deck Size</span> <select class="mt-1 w-full rounded-md border border-zinc-700 bg-zinc-950 px-2 py-1.5 text-sm"><option>32 cards (7-Ace)</option><option>36 cards (6-Ace)</option><option>40 cards (5-Ace)</option><option>44 cards (4-Ace)</option><option>48 cards (3-Ace)</option><option>52 cards (2-Ace)</option></select></label> <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" class="h-4 w-4 rounded border-zinc-700 bg-zinc-950 text-indigo-600"/> <div><span class="text-sm text-zinc-300">Trump Reflecting</span> <p class="text-[10px] text-zinc-500">Show trump to redirect</p></div></label> <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" class="h-4 w-4 rounded border-zinc-700 bg-zinc-950 text-indigo-600"/> <div><span class="text-sm text-zinc-300">Reflecting</span> <p class="text-[10px] text-zinc-500">Same rank to redirect</p></div></label></div></div> <div class="rounded-lg border border-zinc-800 bg-zinc-950/30 p-4"><div class="flex items-center gap-2 mb-3"><span>1</span> <span class="text-sm font-medium text-zinc-300">Trump card (bottom of deck)</span> <!></div> <!></div> <!> <!></div>'),Yc=R("<div><div><!></div></div>"),Gc=R("<span> </span>"),Wc=R('<span class="text-[10px] px-1.5 py-0.5 rounded bg-zinc-800 text-zinc-300"> </span>'),Kc=R('<span class="text-[10px] text-amber-400"> </span>'),Vc=R('<label class="flex items-center gap-1 text-[10px] text-zinc-500 cursor-pointer"><input type="checkbox" class="rounded w-3 h-3"/> Show</label>'),Jc=R("<!> <!>",1),Qc=R('<div class="text-xs text-zinc-500">No cards</div>'),Xc=R('<div><div class="flex items-center justify-between"><div class="flex items-center gap-2"><span> </span> <!> <!> <!></div> <div class="flex items-center gap-2"><!> <span class="text-xs text-zinc-500"> </span></div></div> <div class="mt-2 flex flex-wrap gap-2"><!> <!></div></div>'),Zc=R('<div class="absolute left-6 top-6"><!></div>'),eu=R('<div class="relative"><!> <!></div>'),tu=R('<div class="text-xs text-zinc-500">No cards on table.</div>'),nu=R('<div class="text-3xl"> </div>'),ru=R('<div class="flex-shrink-0 flex flex-col items-center justify-center gap-2 sm:w-24"><div class="text-xs text-zinc-400">Trump</div> <!> <div class="text-xs text-zinc-500 text-center"> </div></div>'),iu=R('<div class="mt-4 rounded-lg border-2 border-amber-500/50 bg-amber-950/20 p-4"><div class="text-sm font-medium text-amber-300 mb-2"> </div> <div class="text-xs text-zinc-400 mb-3"> </div> <div class="flex flex-wrap gap-1.5 max-h-48 overflow-y-auto"></div></div>'),au=R("<span> </span>"),su=R('<span class="text-[10px] px-1.5 py-0.5 rounded bg-zinc-800 text-zinc-300"> </span>'),ou=R('<span class="text-[10px] px-1.5 py-0.5 rounded bg-amber-900/50 text-amber-300"> </span>'),lu=R('<span class="text-[10px] text-amber-400"><span class="inline-block w-3 h-3 bg-amber-500/80 text-white text-[7px] text-center rounded-sm mr-0.5">!</span>= known</span>'),cu=R("<div><!></div>"),uu=R('<div><div class="flex items-center justify-between text-xs text-zinc-400"><div class="flex items-center gap-3"><span>Your Hand</span> <!> <!> <!></div> <span class="text-zinc-500"> </span></div> <div class="mt-2 flex flex-wrap gap-2"><!> <!></div></div>'),fu=R('<button class="rounded-md border border-zinc-700 bg-zinc-950 px-3 py-2 text-xs hover:bg-zinc-900"> </button>'),du=R('<div class="mt-4 flex flex-wrap gap-2"></div>'),vu=R('<!> <!> <div class="mt-4 flex flex-col sm:flex-row sm:items-center gap-4"><div class="flex-1 rounded-lg border border-zinc-800 bg-zinc-950/30 p-4"><div class="flex items-center justify-between text-xs text-zinc-400"><span>Table</span> <div class="flex items-center gap-2"><span class="px-1.5 py-0.5 rounded bg-zinc-800 text-zinc-300"> </span> <span class="text-zinc-500"> </span></div></div> <div class="mt-3 flex flex-wrap gap-3"><!> <!></div></div> <!></div> <!> <!> <!>',1),_u=R('<div class="flex flex-col items-center justify-center py-8"><div class="w-full max-w-sm space-y-4 mb-6"><label class="block"><span class="text-sm font-medium text-zinc-300">Deck Size</span> <select class="mt-1 w-full rounded-md border border-zinc-700 bg-zinc-950 px-3 py-2 text-sm"><option>32 cards (7-Ace)</option><option>36 cards (6-Ace)</option><option>40 cards (5-Ace)</option><option>44 cards (4-Ace)</option><option>48 cards (3-Ace)</option><option>52 cards (2-Ace)</option></select></label> <label class="flex items-center gap-3 cursor-pointer"><input type="checkbox" class="h-4 w-4 rounded border-zinc-700 bg-zinc-950 text-indigo-600"/> <div><span class="text-sm font-medium text-zinc-300">Trump Reflecting</span> <p class="text-xs text-zinc-500">Show trump of same rank to redirect attack</p></div></label> <label class="flex items-center gap-3 cursor-pointer"><input type="checkbox" class="h-4 w-4 rounded border-zinc-700 bg-zinc-950 text-indigo-600"/> <div><span class="text-sm font-medium text-zinc-300">Reflecting</span> <p class="text-xs text-zinc-500">Play card of same rank to redirect attack</p></div></label></div> <button class="rounded-md bg-indigo-600 px-8 py-3 text-lg font-medium hover:bg-indigo-500">Start Game</button></div>'),pu=R('<div class="text-sm text-zinc-400">Loading…</div>'),hu=R("<button> </button>"),mu=R('<div class="mb-3 flex flex-wrap gap-4 text-xs text-zinc-400"><div class="flex flex-col gap-1"><label class="flex items-center gap-1"><span class="w-24">Determinizations:</span><input class="w-20 rounded border border-zinc-700 bg-zinc-950 px-1.5 py-0.5 text-xs" type="number" min="1"/></label> <label class="flex items-center gap-1"><span class="w-24">Rollouts:</span><input class="w-20 rounded border border-zinc-700 bg-zinc-950 px-1.5 py-0.5 text-xs" type="number" min="100"/></label></div> <div class="flex flex-col gap-1 text-zinc-500"><span>% = win rate</span><span># = simulations</span><span class="text-zinc-600 italic text-[10px]">Tip: play with these numbers</span></div></div>'),gu=R('<div class="text-sm text-amber-400">Please specify which cards you drew before continuing.</div>'),bu=R('<div class="flex flex-col items-center gap-0.5"><div> </div> <div class="w-10 h-1 bg-zinc-700 rounded-full overflow-hidden"><div></div></div> <div class="text-[8px] text-zinc-500"> </div></div>'),xu=R('<button><div class="text-[10px] text-zinc-400"> </div> <!> <!></button>'),yu=R('<div class="flex flex-wrap gap-2 mb-3"></div>'),wu=R('<div> </div> <div class="text-[8px] text-zinc-500"> </div>',1),ku=R('<button><div class="text-xs font-medium"> </div> <!></button>'),Su=R('<div class="flex gap-2 mb-3"></div>'),zu=R("<!> <!>",1),Tu=R('<button class="rounded-md border-2 px-4 py-2.5 text-sm font-semibold shadow-lg border-indigo-500 bg-indigo-950 text-indigo-200 hover:bg-indigo-900"> </button>'),Au=R('<div class="flex flex-wrap gap-2 mb-4"></div>'),Eu=R('<div class="mb-3"><div class="text-xs text-zinc-400 mb-1.5"> </div> <div class="flex flex-wrap gap-1.5"></div></div>'),Pu=R("<option> </option>"),Ru=R("<option> </option>"),Cu=R('<!> <!> <details class="text-xs"><summary class="text-zinc-500 cursor-pointer hover:text-zinc-300 mb-2">Manual card input</summary> <div class="space-y-2 mt-2 p-2 rounded border border-zinc-800 bg-zinc-950/50"><div class="grid grid-cols-2 gap-2"><label class="grid gap-1"><span class="text-zinc-400">Suit</span><select class="rounded-md border border-zinc-700 bg-zinc-950 px-2 py-1.5"></select></label> <label class="grid gap-1"><span class="text-zinc-400">Rank</span><select class="rounded-md border border-zinc-700 bg-zinc-950 px-2 py-1.5"></select></label></div> <button class="w-full rounded-md border border-zinc-700 bg-zinc-950 px-2 py-1.5 hover:bg-zinc-900">Apply</button></div></details>',1),Ou=R('<div class="rounded-lg border border-indigo-700/50 bg-indigo-950/30 p-4"><div class="flex items-center gap-3"><div class="animate-spin rounded-full h-5 w-5 border-2 border-indigo-500 border-t-transparent"></div> <div><div class="text-sm font-medium text-indigo-300"> </div> <div class="text-xs text-zinc-500"> </div></div></div></div>'),Mu=R('<div class="text-xs text-zinc-500">Waiting...</div>'),Nu=R('<div class="flex items-center gap-2 mb-3"><div class="text-sm font-medium"> <span> </span></div> <div class="flex-1"></div> <!></div> <!> <!>',1),Iu=R('<div class="min-h-screen flex flex-col"><main class="flex-1"><div class="mx-auto max-w-7xl px-4 py-4"><div class="flex items-center justify-between gap-4"><button class="text-lg font-semibold tracking-tight text-zinc-300 hover:text-zinc-100 transition-colors">Durak</button> <div class="flex items-center gap-2"><span class="text-[10px] text-zinc-600 italic"> </span> <label class="flex items-center gap-2 cursor-pointer"><span class="text-xs text-zinc-400">Computer Shuffle</span> <button role="switch" aria-label="Toggle computer shuffle"><span></span></button></label></div> <label class="flex items-center gap-1.5 text-xs text-zinc-400"><span>Threads:</span> <input type="number" min="1" max="16" class="w-8 rounded border border-zinc-700 bg-zinc-950 px-1 py-1 text-xs text-center [appearance:textfield] [&amp;::-webkit-outer-spin-button]:appearance-none [&amp;::-webkit-inner-spin-button]:appearance-none"/></label></div> <!> <div class="mt-3 flex flex-col gap-2 text-sm"><div class="flex items-center gap-2 flex-wrap"><span class="text-zinc-500 text-xs">Players:</span> <!> <!> <div class="flex items-center gap-1.5 ml-auto"><button class="rounded border border-zinc-700 bg-zinc-900 px-2 py-1 text-xs hover:bg-zinc-800 disabled:opacity-50"> </button> <button class="rounded border border-zinc-600 bg-zinc-800 px-2 py-1 text-xs text-zinc-300 hover:bg-zinc-700">Reset</button></div></div> <!></div> <!> <div class="mt-6 grid gap-4 lg:grid-cols-3"><div class="lg:col-span-2 rounded-xl border border-zinc-800 bg-zinc-900/40 p-5"><!></div> <div class="rounded-xl border border-zinc-800 bg-zinc-900/40 p-5"><!></div></div></div></main> <footer class="py-2 text-center text-sm text-zinc-500"><p> <a href="https://jorisperrenet.github.io" class="hover:text-zinc-300 underline">Joris Perrenet</a></p></footer></div>');function Du(e,n){yi(n,!1);const r=pe(),i=pe(),a=pe(),o=pe(),c=pe(),v=pe(),_=pe(),x=pe();let w=new Date().getFullYear();const P=["Clubs","Diamonds","Hearts","Spades"],T=["Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Jack","Queen","King","Ace"],z=T,te=["Hearts","Diamonds"],ye=["Clubs","Spades"];function C(s){if(!s)return["Hearts","Clubs","Diamonds","Spades"];const u=te.includes(s),h=u?te:ye,m=u?ye:te,y=h.find(A=>A!==s);return[s,m[0],y,m[1]]}const F=50,ne="durak_manual_game",je="durak_computer_game";let l=pe(lc()),d=pe(null),Re=pe([]),ie=pe([]),Ie=pe(!1),Oe=pe(""),Me=[],dn=0,tn=[],ot=pe(null),Wn=!1,Br=0,Kn=null,Ci=null;const ps=500,hs=5e4;let An=pe(!1),En=pe(null);const ms=500;let mr=pe(!1),Ge=pe(!1),Fe=pe("Spades"),wt=pe("Six"),nn=pe("P0"),ae=pe([]),We=pe({}),Pt=pe(!1),gr=pe(null),Vn=pe(""),br=pe("Clubs"),xr=pe("Six");const De=s=>`${s?.suit||"?"}:${s?.rank||"?"}`,ht=s=>JSON.stringify(s),Oi=s=>new Promise(u=>setTimeout(u,s)),Ue=s=>{if(!s)return null;if(s.phase==="Defending")return s.defender;if(s.attackers?.length>0){const u=s.current_attacker_idx??0;return s.attackers[u%s.attackers.length]}return s.attacker},Pn=s=>s==="P0"?"You":t(a)[s]||s;function gs(s,u){if(!s)return!1;const h=parseInt(u.slice(1)),m=s.hands?.[h]?.length||0,y=s.stock?.length===0;return m>0||!y}function Mi(s,u){if(!s||!gs(s,u))return null;if(s.defender===u)return"Defender";if(s.attackers?.length>0){const h=s.attackers.indexOf(u);if(h===0)return"Main Attacker";if(h>0){const m=h+1;return`${m}${m===1?"st":m===2?"nd":m===3?"rd":"th"} Attacker`}}else if(s.attacker===u)return"Main Attacker";return null}function Ni(s,u){return Ue(s)===u}function Be(s){return!s||s.type==="unknown"?null:s.type==="public"||s.type==="private"?{suit:s.suit,rank:s.rank}:s.Public?s.Public:s.Private?s.Private:s.suit&&s.rank?s:null}function Ii(s){return s?s.type==="public"||!!s.Public:!1}function bs(s){return!s||!Array.isArray(s)?[]:s.filter(Ii).map(Be).filter(u=>u!==null)}function xs(s){return!s||!Array.isArray(s)?0:s.filter(u=>!Ii(u)).length}function Rn(s){if(!s)return!1;try{return ka(s)!=null}catch(u){return console.error("isGameOver error:",u),!1}}function ys(s){if(!s)return null;try{return ka(s)??null}catch{return null}}function vn(s){if(!s)return!1;try{return uc(s)}catch{return!1}}function Jn(s){const u=t(d)?.trump||t(Fe),h=C(u);return[...s].sort((m,y)=>{const A=h.indexOf(m.suit)-h.indexOf(y.suit);return A!==0?A:z.indexOf(y.rank)-z.indexOf(m.rank)})}function kt(s){return s?s.type==="throw"?s.card?Be(s.card):null:["attack","defend","reflect","reflect_trump"].includes(s.type)?Be(s.card):null:null}function qr(s){const u={attack:`Attack ${vt(Be(s?.card))}`,defend:`Defend ${vt(Be(s?.card))}`,pass_attack:"Pass / end attack",take:"Take",reflect:`Reflect ${vt(Be(s?.card))}`,reflect_trump:`Show Trump ${vt(Be(s?.card))}`};return s?.type==="throw"?s.card?`Throw ${vt(Be(s.card))}`:"Pass":u[s?.type]||JSON.stringify(s)}function ws(s){return s?(s.hands?.[0]||[]).map(Be).filter(u=>u!==null):[]}const Di=s=>Jn(ws(s));function mt(s){return s?(s.hands?.[0]||[]).filter(h=>h?.type==="unknown"||h?.Unknown!==void 0).length:0}function Yr(){return Jn(P.flatMap(s=>t(o).map(u=>({suit:s,rank:u}))))}function $i(s=[]){const u=new Set(s.map(De));return Yr().filter(h=>!u.has(De(h)))}function ks(s){if(!s)return[];const u=[];if(s.stock?.length>0){const h=Be(s.stock[0]);h&&u.push(h)}for(const h of s.hands||[])for(const m of h){const y=Be(m);y&&u.push(y)}for(const h of s.table||[]){if(h.attack){const m=Be(h.attack);m&&u.push(m)}if(h.defense){const m=Be(h.defense);m&&u.push(m)}}for(const h of s.discard||[]){const m=Be(h);m&&u.push(m)}return u}function Ss(s){if(!t(d))return;const u=t(d).hands?.[0]||[],h=u.findIndex(A=>A?.type==="unknown"||A?.Unknown!==void 0);if(h===-1)return;const m=[...u];m[h]={type:"private",suit:s.suit,rank:s.rank};const y=[...t(d).hands];y[0]=m,g(d,{...t(d),hands:y}),Cn(),_n(),mt(t(d))===0&&Ue(t(d))===t(r)&&pn()}function zs(s,u,h){const m=s.filter(y=>y.suit===u&&De(y)!==De(h));return m.length?m.sort((y,A)=>z.indexOf(y.rank)-z.indexOf(A.rank))[0]:null}function Ts(s,u,h,m){const y=new Set([...s.filter(A=>A.suit===u).map(De),De({suit:u,rank:h}),...Object.values(m).filter(A=>A&&A!=="None").map(A=>De({suit:u,rank:A}))]);return Yr().filter(A=>A.suit===u&&!y.has(De(A))).sort((A,B)=>z.indexOf(A.rank)-z.indexOf(B.rank))}function Fi(s,u){const h=Math.floor(s/u),m=s-h*u;return Array.from({length:u},(y,A)=>h+(A<m?1:0))}function As(s){s.focus(),s.select()}function _n(){try{const s=t(l).computerShuffle?je:ne;if(t(l).computerShuffle){if(!t(d))return;localStorage.setItem(s,JSON.stringify({mode:"computer",state:t(d),stateHistory:t(ie),me:t(r)}))}else localStorage.setItem(s,JSON.stringify({mode:"manual",state:t(d),stateHistory:t(ie),opponentTrumps:t(We),manualTrumpSuit:t(Fe),manualTrumpRank:t(wt),manualStarts:t(nn),manualHand:t(ae),manualGameStarted:t(Ge),trumpCardSelected:t(Pt),me:t(r)}))}catch(s){console.warn("Failed to save game:",s)}}function Li(s){const u=s?je:ne;try{const h=localStorage.getItem(u);if(!h)return!1;const m=JSON.parse(h);if(s){if(!m.state?.hands||!Array.isArray(m.state.hands))return localStorage.removeItem(u),!1;try{ni(m.state)}catch{return localStorage.removeItem(u),!1}g(d,m.state),g(ie,m.stateHistory||[]),Cn(),Jr()}else if(g(We,m.opponentTrumps||{}),g(Fe,m.manualTrumpSuit||"Spades"),g(wt,m.manualTrumpRank||"Six"),g(nn,typeof m.manualStarts=="string"?m.manualStarts:m.manualStarts?"P0":"P1"),g(ae,m.manualHand||[]),g(Pt,m.trumpCardSelected||!1),m.state?.hands&&Array.isArray(m.state.hands)){if(!(m.state.hands[0]||[]).some(A=>A?.type==="unknown"||A?.Unknown!==void 0))try{ni(m.state)}catch{return g(Ge,!1),g(d,null),!0}if(g(d,m.state),vn(t(d)))try{g(d,wa(t(d)))}catch{}g(ie,m.stateHistory||[]),g(Ge,m.manualGameStarted??!0),Cn(),mt(t(d))===0&&Ue(t(d))===t(r)&&pn()}else g(Ge,!1),g(d,null);return!0}catch(h){console.warn("Failed to load game:",h)}return!1}function Es(){localStorage.removeItem(t(l).computerShuffle?je:ne),g(ie,[]),g(Oe,"")}function Gr(){Me.forEach(s=>{try{s.terminate()}catch{}}),Me=[]}function Wr(){return Math.max(1,t(l).numThreads||4)}function Hi(){Gr(),Br=0;const s=Wr();for(let u=0;u<s;u++)try{const h=new Worker(new URL("/durak-online/assets/solver.worker-BCgVZYn4.js",import.meta.url),{type:"module"});h.onmessage=m=>{const y=m.data;if(y?.type==="error"){if(y.id&&y.id!==dn)return;g(Oe,y.message?.includes("memory")?"Out of memory. Try refreshing or reducing threads.":`[${y.context}] ${y.message}`),Kr()}else if(y?.type==="result"){if(y.id!==dn)return;tn=[...tn,{idx:u,elapsedMs:y.elapsedMs,result:y.result}],Ps(),Kr()}},h.onerror=m=>{g(Oe,String(m?.message||m).includes("memory")?"Out of memory. Try refreshing or reducing threads.":String(m?.message||m)),Kr()},Me.push(h)}catch(h){g(Oe,`Failed to create worker: ${h?.message||h}`);break}}function Kr(){++Br>=Me.length&&(Wn=!1)}function Ps(){if(!tn.length){g(ot,null);return}const s=new Map;t(Re).forEach(y=>s.set(ht(y),{action:y,visits:0,weightedScore:0}));let u=0,h=0;for(const y of tn){const A=y.result;u+=A.determinizations||0,h+=A.total_visits||0;for(const B of A.actions||[]){const se=s.get(ht(B.action))||{action:B.action,visits:0,weightedScore:0};se.visits+=B.visits||0,se.weightedScore+=(B.visits||0)*(B.score||0),s.set(ht(B.action),se)}}const m=[...s.values()].map(y=>{const A=y.visits>0?y.weightedScore/y.visits:null,B=A!==null?A*2-1:null;return{...y,score:A,mean_score:B,wins:y.visits,losses:0,draws:0}}).sort((y,A)=>y.mean_score===null&&A.mean_score===null?0:y.mean_score===null?1:A.mean_score===null?-1:A.mean_score-y.mean_score);g(ot,{determinizations:u,total_visits:h,mean_score:m.find(y=>y.mean_score!==null)?.mean_score??0,actions:m})}function Vr(){dn++,tn=[],g(ot,null),Wn=!1,Qn()}function Qn(){Kn&&(clearInterval(Kn),Kn=null)}function Rs(){g(l,{...t(l),showHints:!t(l).showHints}),Qe(t(l)),t(l).showHints&&t(d)&&Ue(t(d))===t(r)&&!Rn(t(d))?pn():(Qn(),dn++,Wn=!1,tn=[],g(ot,null))}function pn(){if(!t(l).showHints||!t(Ie)||!t(d)||t(l).computerShuffle&&Ue(t(d))!==t(r)||mt(t(d))>0)return;if(Me.length!==Wr()&&Hi(),!Me.length){g(Oe,"No workers available");return}g(Oe,""),Wn=!0,Br=0,dn++;const s=Fi(t(l).hintDeterminizations,Me.length);for(let u=0;u<Me.length;u++)s[u]!==0&&Me[u].postMessage({type:"solve",id:dn,req:{state:t(d),determinizations:s[u],rollouts_per_determinization:t(l).hintRollouts,max_depth:500}});Kn||(Ci=JSON.stringify({state:t(d),me:t(r)}),Kn=setInterval(()=>{if(JSON.stringify({state:t(d),me:t(r)})!==Ci){Qn();return}!Wn&&t(d)&&Ue(t(d))===t(r)&&mt(t(d))===0&&pn()},1e3))}async function Cs(){if(!t(Ie)||!t(d)||!Me.length)return null;const s=t(l).mctsThinkingTimeMs||2e3,u=performance.now();let h=t(l).mctsDeterminizations||20,m=5e3;const y=new Map;for(;performance.now()-u<s;){const se=performance.now(),ge=await Os(h,m);for(const Le of ge){const tt=ht(Le.action),me=y.get(tt)||{action:Le.action,wins:0,losses:0,draws:0};me.wins+=Le.wins||0,me.losses+=Le.losses||0,me.draws+=Le.draws||0,y.set(tt,me)}const be=s-(performance.now()-u);if(be<200)break;const Ke=performance.now()-se;if(Ke<be/2){const Le=Math.min(2,be/Ke/2);h=Math.min(ps,Math.ceil(h*Le)),m=Math.min(hs,Math.ceil(m*Math.sqrt(Le)))}}let A=null,B=-1/0;for(const se of y.values()){const ge=se.wins+se.losses+se.draws;if(ge>0){const be=(se.wins-se.losses)/ge;be>B&&(B=be,A=se.action)}}return A}function Os(s,u){return new Promise(h=>{const m=Fi(s,Me.length),y=[];let A=0;const B=++dn,se=ge=>{ge.data.id!==B||ge.data.type!=="result"||(y.push(...ge.data.result?.actions||[]),++A>=m.filter(be=>be>0).length&&h(y))};Me.forEach((ge,be)=>{ge.addEventListener("message",se),m[be]>0&&ge.postMessage({type:"solve",id:B,req:{state:t(d),determinizations:m[be],rollouts_per_determinization:u,max_depth:500}})}),setTimeout(()=>{Me.forEach(ge=>ge.removeEventListener("message",se)),h(y)},1e4)})}function Cn(){if(!t(Ie)||!t(d)){g(Re,[]);return}if(!t(l).computerShuffle&&mt(t(d))>0&&Ue(t(d))===t(r)){g(Re,[]);return}g(Re,ni(t(d)))}function Ms(s){t(l).computerShuffle!==s&&(_n(),g(l,{...t(l),computerShuffle:s}),Qe(t(l)),Vr(),g(ie,[]),g(Oe,""),Li(s)||(g(d,null),g(Ge,!1),g(Re,[])),_n())}function ji(){if(t(Ie)){g(Oe,""),Vr(),g(Ge,!1),g(ie,[]),g(An,!1),g(En,null);try{if(t(l).computerShuffle){const s=ya(t(l)),u=BigInt(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER));g(d,dc({seed:u},s)),Jr()}else{if(t(ae).length!==6){g(Oe,"You must add exactly 6 cards to your hand");return}const s=ya(t(l)),u=Object.entries(t(We)).filter(([y,A])=>y!==t(r)&&A&&A!=="None").map(([y,A])=>[y,A]),h=y=>({type:"public",suit:y.suit,rank:y.rank}),m=parseInt(t(nn).replace("P",""),10)||0;g(d,vc({trump_card:h(t(c)),player_hand:t(ae).map(h),starting_player:m,opponent_trumps:u},s)),g(Ge,!0),Ue(t(d))===t(r)&&pn()}Cn(),_n()}catch(s){g(Oe,String(s?.message||s)),g(d,null)}}}async function Jr(){if(!t(d)||Rn(t(d)))return;const s=Ue(t(d));if(!s)return;if(!t(l).computerShuffle){s===t(r)&&pn();return}const u=t(l).playerTypes[s]||j.Random;if(u===j.Human){if(t(Re).length===1){if(await Oi(200),!t(d)||Rn(t(d))||Ue(t(d))!==s)return;Nt(t(Re)[0],!0);return}pn();return}g(An,!0),g(En,s);try{if(u===j.MCTS){Me.length!==Wr()&&Hi();const h=await Cs()||ri(t(d));h&&Nt(h)}else{if(await Oi(ms),!t(d)||Rn(t(d))||Ue(t(d))!==s)return;const h=ri(t(d));h&&Nt(h)}}catch(h){g(Oe,`AI error: ${h?.message||h}`);const m=ri(t(d));m&&Nt(m)}finally{g(An,!1),g(En,null)}}function Nt(s,u=!1){if(!(!t(Ie)||!t(d))){g(Oe,"");try{if(u&&g(ie,[...t(ie).slice(-F+1),JSON.parse(JSON.stringify(t(d)))]),g(d,fc(t(d),s)),!t(l).computerShuffle&&vn(t(d)))try{g(d,wa(t(d)))}catch{}Cn(),_n(),tn=[],g(ot,null),Qn(),setTimeout(Jr,0)}catch(h){g(Oe,String(h?.message||h)),t(ie).length&&(g(d,t(ie).pop()),g(ie,[...t(ie)]))}}}function Ui(s){Ue(t(d))===t(r)&&(mt(t(d))>0||(tn=[],g(ot,null),Nt(s,!0)))}function Ns(s){const u=t(Re).find(h=>kt(h)?.suit===s.suit&&kt(h)?.rank===s.rank);u&&Ui(u)}function Is(){if(!t(ie).length){g(Oe,"No moves to undo");return}g(Oe,""),g(d,t(ie).pop()),g(ie,[...t(ie)]),Cn(),Vr(),g(An,!1),g(En,null),_n()}function Ds(s,u){g(We,{...t(We),[s]:u})}function Bi(s){g(We,{...t(We),[s]:"None"})}function $s(){t(l).numPlayers<6&&(g(l,{...t(l),numPlayers:t(l).numPlayers+1}),Qe(t(l)))}function Fs(){t(l).numPlayers>2&&(g(l,{...t(l),numPlayers:t(l).numPlayers-1}),Qe(t(l)))}function qi(s,u){g(l,{...t(l),playerNames:{...t(l).playerNames,[s]:u||s}}),Qe(t(l)),g(gr,null)}function Ls(){if(!t(d))return;const s={suit:t(br),rank:t(xr)},u=t(Re).find(h=>kt(h)?.suit===s.suit&&kt(h)?.rank===s.rank);if(!u){g(Oe,`${vt(s)} is not legal right now`);return}Nt(u,!0)}ds(async()=>{try{await yc(),g(Ie,!0),Li(t(l).computerShuffle)}catch(u){g(Oe,`Failed to init WASM: ${u?.message||u}`)}const s=()=>Gr();return window.addEventListener("beforeunload",s),()=>window.removeEventListener("beforeunload",s)}),Vl(()=>{Gr(),Qn()});function Hs(s){return Ue(t(d))===t(r)&&t(Re).some(u=>kt(u)?.suit===s.suit&&kt(u)?.rank===s.rank)}function js(s){const u=t(ot)?.actions?.[0];if(!u)return!1;const h=kt(u.action);return h&&h.suit===s.suit&&h.rank===s.rank}function Us(s,u){return s?.hands?.[0]?.some(h=>h?.type==="public"?De({suit:h.suit,rank:h.rank})===De(u):h?.Public?De(h.Public)===De(u):!1)||!1}function Bs(s){const u=s.filter(m=>m.action.type==="throw"?m.action.card!=null:["attack","defend","reflect","reflect_trump"].includes(m.action.type)),h=s.filter(m=>m.action.type==="pass_attack"||m.action.type==="take"||m.action.type==="throw"&&m.action.card==null);return{cardActions:u,otherActions:h}}function qs(s){return{attack:s.filter(u=>u.type==="attack"),defend:s.filter(u=>u.type==="defend"),throw:s.filter(u=>u.type==="throw"&&u.card!=null),reflect:s.filter(u=>u.type==="reflect"),reflectTrump:s.filter(u=>u.type==="reflect_trump"),other:s.filter(u=>!kt(u))}}function Ys(s){const u=t(d)?.trump||t(Fe),h=C(u);return[...s].sort((m,y)=>{const A=kt(m),B=kt(y);if(!A||!B)return 0;const se=h.indexOf(A.suit)-h.indexOf(B.suit);return se!==0?se:z.indexOf(B.rank)-z.indexOf(A.rank)})}Ct(()=>t(l),()=>{g(r,oc(t(l)))}),Ct(()=>(t(l),j),()=>{g(i,Object.entries(t(l).playerTypes).some(([s,u])=>parseInt(s.slice(1))<t(l).numPlayers&&u===j.MCTS))}),Ct(()=>t(l),()=>{g(a,t(l).playerNames||{})}),Ct(()=>t(l),()=>{g(o,T.slice(-(t(l).deckSize/4)))}),Ct(()=>(t(o),t(ae),t(wt)),()=>{const s=new Set(t(o));t(ae).some(u=>!s.has(u.rank))&&g(ae,t(ae).filter(u=>s.has(u.rank))),s.has(t(wt))||(g(wt,t(o)[0]),g(Pt,!1))}),Ct(()=>(t(Fe),t(wt)),()=>{g(c,{suit:t(Fe),rank:t(wt)})}),Ct(()=>(t(ae),t(Fe),t(c)),()=>{g(v,zs(t(ae),t(Fe),t(c)))}),Ct(()=>(t(ae),t(Fe),t(wt),t(We)),()=>{g(_,Ts(t(ae),t(Fe),t(wt),t(We)))}),Ct(()=>(t(l),t(r),t(We)),()=>{g(x,Array.from({length:t(l).numPlayers},(s,u)=>`P${u}`).filter(s=>s!==t(r)).every(s=>t(We)[s]))}),Ct(()=>(t(r),t(v),t(We)),()=>{let s=t(r),u=t(v)?z.indexOf(t(v).rank):1/0;for(const[h,m]of Object.entries(t(We)))if(m&&m!=="None"){const y=z.indexOf(m);y<u&&(u=y,s=h)}g(nn,s)}),Ct(()=>(t(l),t(Ge),t(Ie),t(ae),t(Fe),t(wt),t(We),t(Pt)),()=>{!t(l).computerShuffle&&!t(Ge)&&t(Ie)&&(t(ae),t(Fe),t(wt),t(We),t(Pt),_n())}),hl(),fs();var Yi=Iu(),Gi=p(Yi),Gs=p(Gi),Wi=p(Gs),Ki=p(Wi),Vi=b(Ki,2),Ji=p(Vi),Ws=p(Ji),Ks=b(Ji,2),yr=b(p(Ks),2),Vs=p(yr),Js=b(Vi,2),Qi=b(p(Js),2),Xi=b(Wi,2);{var Qs=s=>{var u=wc(),h=b(p(u),2),m=p(h);$(()=>H(m,t(Oe))),k(s,u)};M(Xi,s=>{t(Oe)&&s(Qs)})}var Zi=b(Xi,2),ea=p(Zi),ta=b(p(ea),2);$e(ta,1,()=>(t(l),f(()=>Array(t(l).numPlayers))),Yt,(s,u,h)=>{const m=I(()=>`P${h}`),y=I(()=>(t(l),S(t(m)),S(j),f(()=>t(l).computerShuffle?t(l).playerTypes[t(m)]||(h===0?j.Human:j.Random):h===0?j.Human:j.Real))),A=I(()=>(S(t(y)),S(j),f(()=>t(y)===j.Human)));var B=Pc(),se=p(B);{var ge=me=>{var we=kc();k(me,we)},be=me=>{var we=bt(),Ve=Ne(we);{var nt=K=>{var _e=Sc();ar(()=>Yl(_e,()=>t(Vn),Te=>g(Vn,Te))),ar(()=>ce("blur",_e,()=>qi(t(m),t(Vn)))),ar(()=>ce("keydown",_e,Te=>{Te.key==="Enter"&&qi(t(m),t(Vn)),Te.key==="Escape"&&g(gr,null)})),Dl(_e,Te=>As?.(Te)),k(K,_e)},fe=K=>{var _e=zc(),Te=p(_e);$(()=>H(Te,(t(a),S(t(m)),f(()=>t(a)[t(m)]||t(m))))),ce("click",_e,()=>{g(gr,t(m)),g(Vn,t(a)[t(m)]||t(m))}),k(K,_e)};M(Ve,K=>{t(gr)===t(m)?K(nt):K(fe,!1)},!0)}k(me,we)};M(se,me=>{h===0&&t(A)?me(ge):me(be,!1)})}var Ke=b(se,2);{var Le=me=>{var we=Tc(),Ve=p(we),nt={},fe=b(Ve),K={},_e;Er(we),$(()=>{nt!==(nt=(S(j),f(()=>j.Random)))&&(Ve.value=(Ve.__value=(S(j),f(()=>j.Random)))??""),K!==(K=(S(j),f(()=>j.MCTS)))&&(fe.value=(fe.__value=(S(j),f(()=>j.MCTS)))??""),_e!==(_e=t(y))&&(we.value=(we.__value=t(y))??"",sr(we,t(y)))}),ce("change",we,Te=>{g(l,{...t(l),playerTypes:{...t(l).playerTypes,[t(m)]:Te.target.value}}),Qe(t(l))}),k(me,we)},tt=me=>{var we=bt(),Ve=Ne(we);{var nt=K=>{var _e=Ac();k(K,_e)},fe=K=>{var _e=Ec(),Te=p(_e);$(()=>H(Te,t(y))),k(K,_e)};M(Ve,K=>{t(l),f(()=>t(l).computerShuffle&&h===0)?K(nt):K(fe,!1)},!0)}k(me,we)};M(Ke,me=>{t(l),f(()=>t(l).computerShuffle&&h>0)?me(Le):me(tt,!1)})}$(()=>Pe(B,1,`flex items-center gap-0.5 rounded-md border ${t(A)?"border-indigo-600 bg-indigo-950/30":"border-zinc-700 bg-zinc-950"} overflow-hidden`)),k(s,B)});var na=b(ta,2);{var Xs=s=>{var u=Rc(),h=Ne(u),m=b(h,2);$(()=>{h.disabled=(t(l),f(()=>t(l).numPlayers<=2)),m.disabled=(t(l),f(()=>t(l).numPlayers>=6))}),ce("click",h,Fs),ce("click",m,$s),k(s,u)};M(na,s=>{t(l),t(d),t(Ge),f(()=>t(l).computerShuffle?!t(d):!t(Ge))&&s(Xs)})}var Zs=b(na,2),wr=p(Zs),eo=p(wr),to=b(wr,2),no=b(ea,2);{var ro=s=>{var u=Cc(),h=p(u),m=b(p(h),2),y=b(h,2),A=b(p(y),2);$(()=>{Xn(m,(t(l),f(()=>t(l).mctsThinkingTimeMs))),Xn(A,(t(l),f(()=>t(l).mctsDeterminizations)))}),ce("change",m,B=>{g(l,{...t(l),mctsThinkingTimeMs:parseInt(B.target.value)||2e3}),Qe(t(l))}),ce("change",A,B=>{g(l,{...t(l),mctsDeterminizations:parseInt(B.target.value)||20}),Qe(t(l))}),k(s,u)};M(no,s=>{t(l),t(i),f(()=>t(l).computerShuffle&&t(i))&&s(ro)})}var ra=b(Zi,2);{var io=s=>{var u=qc(),h=p(u),m=b(p(h),2),y=p(m),A=b(p(y),2),B=p(A);B.value=B.__value=32;var se=b(B);se.value=se.__value=36;var ge=b(se);ge.value=ge.__value=40;var be=b(ge);be.value=be.__value=44;var Ke=b(be);Ke.value=Ke.__value=48;var Le=b(Ke);Le.value=Le.__value=52;var tt;Er(A);var me=b(y,2),we=p(me),Ve=b(me,2),nt=p(Ve),fe=b(h,2),K=p(fe),_e=p(K),Te=b(_e,4);{var It=O=>{var N=Oc();ce("click",N,()=>g(Pt,!1)),k(O,N)};M(Te,O=>{t(Pt)&&O(It)})}var qe=b(K,2);{var St=O=>{var N=Mc(),U=b(Ne(N),2);$e(U,5,()=>f(Yr),D=>De(D),(D,E)=>{Je(D,{get card(){return t(E)},size:"sm",selectable:!0,$$events:{click:()=>{g(Fe,t(E).suit),g(wt,t(E).rank),g(Pt,!0)}}})}),k(O,N)},rt=O=>{var N=Nc(),U=p(N);Je(U,{get card(){return t(c)},size:"md"});var D=b(U,2),E=p(D),X=p(E),W=b(E,2),oe=b(p(W)),de=p(oe);$((Ae,He)=>{H(X,Ae),H(de,`${He??""} ${t(Fe)??""}`)},[()=>(S(vt),t(c),f(()=>vt(t(c)))),()=>(S(Gt),t(Fe),f(()=>Gt(t(Fe))))]),k(O,N)};M(qe,O=>{t(Pt)?O(rt,!1):O(St)})}var jt=b(fe,2);{var Q=O=>{var N=$c(),U=p(N),D=p(U),E=b(D,4),X=p(E),W=b(U,2),oe=p(W);$e(oe,1,()=>(t(ae),f(()=>Jn(t(ae)))),Y=>De(Y),(Y,ue)=>{Je(Y,{get card(){return t(ue)},size:"sm",selectable:!0,$$events:{click:()=>g(ae,t(ae).filter(le=>De(le)!==De(t(ue))))}})});var de=b(oe,2);{var Ae=Y=>{var ue=Ic();k(Y,ue)};M(de,Y=>{t(ae),f(()=>!t(ae).length)&&Y(Ae)})}var He=b(W,2);{var dt=Y=>{var ue=Dc(),le=p(ue),V=p(le),Z=b(le,2);$e(Z,5,()=>(t(ae),t(c),f(()=>$i([...t(ae),t(c)]))),ke=>De(ke),(ke,xe)=>{Je(ke,{get card(){return t(xe)},size:"sm",selectable:!0,$$events:{click:()=>g(ae,[...t(ae),t(xe)])}})}),$(()=>H(V,`Click to add (${t(ae),f(()=>6-t(ae).length)??""} more):`)),k(Y,ue)};M(He,Y=>{t(ae),f(()=>t(ae).length<6)&&Y(dt)})}$(()=>{Pe(D,1,`flex items-center justify-center w-6 h-6 rounded-full ${t(ae),f(()=>t(ae).length===6?"bg-green-600":"bg-indigo-600")??""} text-xs font-bold`),H(X,`${t(ae),f(()=>t(ae).length)??""}/6`)}),k(O,N)};M(jt,O=>{t(Pt)&&O(Q)})}var G=b(jt,2);{var q=O=>{var N=Bc(),U=Ne(N),D=p(U),E=p(D),X=b(E,2),W=b(p(X)),oe=p(W),de=b(D,2),Ae=p(de);{var He=V=>{var Z=Fc(),ke=b(Ne(Z)),xe=p(ke);$(lt=>H(xe,lt),[()=>(S(vt),t(v),f(()=>vt(t(v))))]),k(V,Z)},dt=V=>{var Z=Zr("You have no trumps");k(V,Z)};M(Ae,V=>{t(v)?V(He):V(dt,!1)})}var Y=b(de,2);$e(Y,5,()=>(t(l),f(()=>Array(t(l).numPlayers))),Yt,(V,Z,ke)=>{const xe=I(()=>`P${ke}`);var lt=bt(),L=Ne(lt);{var J=Se=>{const it=I(()=>(t(We),S(t(xe)),f(()=>t(We)[t(xe)])));var ct=jc(),gt=p(ct),Ut=p(gt),hn=b(gt,2),mn=p(hn),Qr=b(mn,2);{var kr=Dt=>{var Bt=Lc(),On=p(Bt);{let Ee=I(()=>({suit:t(Fe),rank:t(it)}));Je(On,{get card(){return t(Ee)},size:"sm"})}var ee=b(On,2);ce("click",ee,()=>Bi(t(xe))),k(Dt,Bt)},Xr=Dt=>{var Bt=bt(),On=Ne(Bt);$e(On,1,()=>t(_),ee=>De(ee),(ee,Ee)=>{var at=Hc(),Rt=p(at);Je(Rt,{get card(){return t(Ee)},size:"sm",selectable:!0}),ce("click",at,()=>Ds(t(xe),t(Ee).rank)),k(ee,at)}),k(Dt,Bt)};M(Qr,Dt=>{t(it)&&t(it)!=="None"?Dt(kr):Dt(Xr,!1)})}$((Dt,Bt)=>{H(Ut,`${Dt??""}'s lowest (${Bt??""}):`),Pe(mn,1,`rounded-md border px-3 py-1.5 text-xs font-medium ${t(it)==="None"?"border-amber-500 bg-amber-500/20 text-amber-300":"border-zinc-700 bg-zinc-950 text-zinc-400 hover:bg-zinc-900"}`)},[()=>(S(t(xe)),f(()=>Pn(t(xe)))),()=>(S(Gt),t(Fe),f(()=>Gt(t(Fe))))]),ce("click",mn,()=>Bi(t(xe))),k(Se,ct)};M(L,Se=>{t(xe)!==t(r)&&Se(J)})}k(V,lt)});var ue=b(U,2);{var le=V=>{var Z=Uc(),ke=p(Z),xe=p(ke),lt=p(xe),L=b(ke,2);$(J=>{Pe(xe,1,`text-sm font-medium ${t(nn)===t(r)?"text-indigo-400":"text-zinc-400"}`),H(lt,J)},[()=>(t(nn),t(r),f(()=>t(nn)===t(r)?"You start!":`${Pn(t(nn))} starts`))]),ce("click",L,ji),k(V,Z)};M(ue,V=>{t(x)&&V(le)})}$(V=>{Pe(E,1,`flex items-center justify-center w-6 h-6 rounded-full ${t(x)?"bg-green-600":"bg-indigo-600"} text-xs font-bold`),H(oe,`(${V??""})`)},[()=>(S(Gt),t(Fe),f(()=>Gt(t(Fe))))]),k(O,N)};M(G,O=>{t(ae),f(()=>t(ae).length===6)&&O(q)})}$(()=>{tt!==(tt=(t(l),f(()=>t(l).deckSize)))&&(A.value=(A.__value=(t(l),f(()=>t(l).deckSize)))??"",sr(A,(t(l),f(()=>t(l).deckSize)))),Tr(we,(t(l),f(()=>t(l).trumpReflecting))),Tr(nt,(t(l),f(()=>t(l).reflecting))),Pe(_e,1,`flex items-center justify-center w-6 h-6 rounded-full ${t(Pt)?"bg-green-600":"bg-indigo-600"} text-xs font-bold`)}),ce("change",A,O=>{g(l,{...t(l),deckSize:parseInt(O.target.value)}),Qe(t(l))}),ce("change",we,O=>{g(l,{...t(l),trumpReflecting:O.target.checked}),Qe(t(l))}),ce("change",nt,O=>{g(l,{...t(l),reflecting:O.target.checked}),Qe(t(l))}),k(s,u)};M(ra,s=>{t(l),t(Ge),f(()=>!t(l).computerShuffle&&!t(Ge))&&s(io)})}var ao=b(ra,2),ia=p(ao),so=p(ia);{var oo=s=>{const u=I(()=>(t(d),f(()=>ys(t(d)))));var h=vu(),m=Ne(h);{var y=Q=>{const G=I(()=>t(u)===t(r));var q=Yc(),O=p(q),N=p(O);{var U=E=>{var X=Zr("You're the Durak!");k(E,X)},D=E=>{var X=Zr();$(W=>H(X,`${W??""} is the Durak!`),[()=>(S(t(u)),f(()=>Pn(t(u))))]),k(E,X)};M(N,E=>{t(G)?E(U):E(D,!1)})}$(()=>{Pe(q,1,`mb-4 p-4 rounded-lg border-2 ${t(G)?"border-zinc-500 bg-zinc-950/40":"border-indigo-500 bg-indigo-950/40"}`),Pe(O,1,`text-lg font-bold ${t(G)?"text-zinc-300":"text-indigo-400"}`)}),k(Q,q)};M(m,Q=>{t(u)&&Q(y)})}var A=b(m,2);$e(A,1,()=>(t(d),t(l),f(()=>Array(t(d).hands?.length||t(l).numPlayers))),Yt,(Q,G,q)=>{const O=I(()=>`P${q}`);var N=bt(),U=Ne(N);{var D=E=>{const X=I(()=>(t(d),f(()=>t(d).hands?.[q]||[]))),W=I(()=>(S(t(X)),f(()=>bs(t(X))))),oe=I(()=>(S(t(X)),f(()=>t(X).map(Be).filter(ee=>ee!==null)))),de=I(()=>(S(t(X)),f(()=>xs(t(X))))),Ae=I(()=>(S(t(X)),f(()=>t(X).length))),He=I(()=>(t(l),S(t(O)),S(j),f(()=>t(l).computerShuffle?t(l).playerTypes[t(O)]:j.Real))),dt=I(()=>(t(d),S(t(O)),f(()=>Mi(t(d),t(O))))),Y=I(()=>(t(d),S(t(O)),f(()=>Ni(t(d),t(O)))));var ue=Xc(),le=p(ue),V=p(le),Z=p(V),ke=p(Z),xe=b(Z,2);{var lt=ee=>{var Ee=Gc(),at=p(Ee);$(()=>{Pe(Ee,1,`text-[10px] px-1.5 py-0.5 rounded ${S(t(He)),S(j),f(()=>t(He)===j.MCTS?"bg-indigo-900/50 text-indigo-300":"bg-zinc-800 text-zinc-400")??""}`),H(at,t(He))}),k(ee,Ee)};M(xe,ee=>{t(l),f(()=>t(l).computerShuffle)&&ee(lt)})}var L=b(xe,2);{var J=ee=>{var Ee=Wc(),at=p(Ee);$(()=>H(at,t(dt))),k(ee,Ee)};M(L,ee=>{t(dt)&&ee(J)})}var Se=b(L,2);{var it=ee=>{var Ee=Kc(),at=p(Ee);$(Rt=>H(at,`(${Rt??""})`),[()=>(t(d),S(t(W)),f(()=>vn(t(d))?"all known":`${t(W).length} known`))]),k(ee,Ee)};M(Se,ee=>{S(t(W)),t(d),f(()=>t(W).length>0||vn(t(d)))&&ee(it)})}var ct=b(V,2),gt=p(ct);{var Ut=ee=>{var Ee=Vc(),at=p(Ee);Gl(at,()=>t(mr),Rt=>g(mr,Rt)),k(ee,Ee)};M(gt,ee=>{t(l),f(()=>t(l).computerShuffle)&&ee(Ut)})}var hn=b(gt,2),mn=p(hn),Qr=b(le,2),kr=p(Qr);{var Xr=ee=>{var Ee=bt(),at=Ne(Ee);$e(at,3,()=>(S(t(oe)),f(()=>Jn(t(oe)))),(Rt,qt)=>De(Rt)+"-"+qt,(Rt,qt)=>{Je(Rt,{get card(){return t(qt)},size:"sm"})}),k(ee,Ee)},Dt=ee=>{var Ee=Jc(),at=Ne(Ee);$e(at,3,()=>(S(t(W)),f(()=>Jn(t(W)))),(qt,Sr)=>De(qt)+"-"+Sr,(qt,Sr)=>{Je(qt,{get card(){return t(Sr)},size:"sm",known:!0})});var Rt=b(at,2);$e(Rt,1,()=>(S(t(de)),f(()=>Array(t(de)))),Yt,(qt,Sr,$u,Fu)=>{Je(qt,{faceDown:!0,size:"sm"})}),k(ee,Ee)};M(kr,ee=>{t(mr),t(d),t(l),f(()=>(t(mr)||vn(t(d)))&&t(l).computerShuffle)?ee(Xr):ee(Dt,!1)})}var Bt=b(kr,2);{var On=ee=>{var Ee=Qc();k(ee,Ee)};M(Bt,ee=>{t(Ae)||ee(On)})}$(ee=>{Pe(ue,1,`mt-5 rounded-lg border ${t(Y)?"border-yellow-500/50":"border-zinc-800"} bg-zinc-950/30 p-4`),Pe(Z,1,`text-xs ${t(Y)?"text-yellow-300 font-medium":"text-zinc-400"}`),H(ke,ee),H(mn,`${t(Ae)??""} cards`)},[()=>(S(t(O)),f(()=>Pn(t(O))))]),k(E,ue)};M(U,E=>{t(O)!==t(r)&&E(D)})}k(Q,N)});var B=b(A,2),se=p(B),ge=p(se),be=b(p(ge),2),Ke=p(be),Le=p(Ke),tt=b(Ke,2),me=p(tt),we=b(ge,2),Ve=p(we);$e(Ve,1,()=>(t(d),f(()=>t(d).table)),Yt,(Q,G)=>{var q=eu(),O=p(q);{let D=I(()=>(t(G),f(()=>Be(t(G).attack))));Je(O,{get card(){return t(D)},size:"md"})}var N=b(O,2);{var U=D=>{var E=Zc(),X=p(E);{let W=I(()=>(t(G),f(()=>Be(t(G).defense))));Je(X,{get card(){return t(W)},size:"md"})}k(D,E)};M(N,D=>{t(G),f(()=>t(G).defense)&&D(U)})}k(Q,q)});var nt=b(Ve,2);{var fe=Q=>{var G=tu();k(Q,G)};M(nt,Q=>{t(d),f(()=>!t(d).table.length)&&Q(fe)})}var K=b(se,2);{var _e=Q=>{const G=I(()=>(t(d),f(()=>t(d).stock?.length||0))),q=I(()=>(S(t(G)),t(d),f(()=>t(G)>0?Be(t(d).stock[0]):null)));var O=ru(),N=b(p(O),2);{var U=W=>{Je(W,{get card(){return t(q)},size:"sm"})},D=W=>{var oe=nu(),de=p(oe);$(Ae=>H(de,Ae),[()=>(S(Gt),t(d),f(()=>Gt(t(d).trump)))]),k(W,oe)};M(N,W=>{t(q)?W(U):W(D,!1)})}var E=b(N,2),X=p(E);$(()=>H(X,t(G)>0?`${t(G)} in stock`:"Stock empty")),k(Q,O)};M(K,Q=>{Q(_e)})}var Te=b(B,2);{var It=Q=>{const G=I(()=>(t(d),f(()=>mt(t(d))))),q=I(()=>(t(d),f(()=>ks(t(d))))),O=I(()=>(S(t(q)),f(()=>$i(t(q)))));var N=iu(),U=p(N),D=p(U),E=b(U,2),X=p(E),W=b(E,2);$e(W,5,()=>t(O),oe=>De(oe),(oe,de)=>{Je(oe,{get card(){return t(de)},size:"sm",selectable:!0,$$events:{click:()=>Ss(t(de))}})}),$(()=>{H(D,`You drew ${t(G)??""} card${t(G)>1?"s":""} from the stock`),H(X,`Select which card${t(G)>1?"s":""} you drew:`)}),k(Q,N)};M(Te,Q=>{t(l),t(d),f(()=>!t(l).computerShuffle&&mt(t(d))>0)&&Q(It)})}var qe=b(Te,2);{var St=Q=>{const G=I(()=>(t(l),t(r),S(j),f(()=>t(l).computerShuffle?t(l).playerTypes[t(r)]:j.Real))),q=I(()=>(t(d),f(()=>(t(d)?.hands?.[0]||[]).filter(L=>L?.type==="public"||L?.Public).map(L=>L?.type==="public"?{suit:L.suit,rank:L.rank}:L.Public)))),O=I(()=>(t(d),t(r),f(()=>Mi(t(d),t(r))))),N=I(()=>(t(d),t(r),f(()=>Ni(t(d),t(r))))),U=I(()=>(t(l),t(d),f(()=>!t(l).computerShuffle&&mt(t(d))>0)));var D=uu(),E=p(D),X=p(E),W=p(X),oe=b(W,2);{var de=L=>{var J=au(),Se=p(J);$(()=>{Pe(J,1,`text-[10px] px-1.5 py-0.5 rounded ${S(t(G)),S(j),f(()=>t(G)===j.Human?"bg-indigo-900/50 text-indigo-300":"bg-zinc-800 text-zinc-400")??""}`),H(Se,t(G))}),k(L,J)};M(oe,L=>{t(l),f(()=>t(l).computerShuffle)&&L(de)})}var Ae=b(oe,2);{var He=L=>{var J=su(),Se=p(J);$(()=>H(Se,t(O))),k(L,J)};M(Ae,L=>{t(O)&&L(He)})}var dt=b(Ae,2);{var Y=L=>{var J=ou(),Se=p(J);$(it=>H(Se,`${it??""} unknown`),[()=>(t(d),f(()=>mt(t(d))))]),k(L,J)},ue=L=>{var J=bt(),Se=Ne(J);{var it=ct=>{var gt=lu();k(ct,gt)};M(Se,ct=>{t(d),S(t(q)),f(()=>vn(t(d))||t(q).length)&&ct(it)},!0)}k(L,J)};M(dt,L=>{t(U)?L(Y):L(ue,!1)})}var le=b(X,2),V=p(le),Z=b(E,2),ke=p(Z);$e(ke,1,()=>(t(d),f(()=>Di(t(d)))),L=>De(L),(L,J)=>{const Se=I(()=>(t(J),S(t(U)),f(()=>Hs(t(J))&&!t(U)))),it=I(()=>(t(d),t(J),f(()=>Us(t(d),t(J))||vn(t(d)))));var ct=cu(),gt=p(ct);{let Ut=I(()=>(t(d),t(r),S(t(Se)),f(()=>Ue(t(d))===t(r)&&t(Se)&&!Rn(t(d))))),hn=I(()=>(t(d),t(r),S(t(Se)),S(t(U)),f(()=>Ue(t(d))!==t(r)||!t(Se)||Rn(t(d))||t(U)))),mn=I(()=>(t(J),f(()=>js(t(J)))));Je(gt,{get card(){return t(J)},get selectable(){return t(Ut)},get disabled(){return t(hn)},get selected(){return t(mn)},get revealed(){return t(it)},$$events:{click:()=>Ns(t(J))}})}$(()=>Pe(ct,1,Fl(t(Se)?"":"opacity-40"))),k(L,ct)});var xe=b(ke,2);{var lt=L=>{var J=bt(),Se=Ne(J);$e(Se,1,()=>(t(d),f(()=>Array(mt(t(d))))),Yt,(it,ct)=>{Je(it,{faceDown:!0,size:"md"})}),k(L,J)};M(xe,L=>{t(U)&&L(lt)})}$((L,J)=>{Pe(D,1,`durak-felt mt-4 rounded-lg border ${t(U)?"border-amber-500/50":t(N)?"border-yellow-500/50":"border-zinc-800"} p-4`),Pe(W,1,t(N)?"text-yellow-300 font-medium":""),H(V,`${L??""}${J??""} cards`)},[()=>(t(d),f(()=>Di(t(d)).length)),()=>(S(t(U)),t(d),f(()=>t(U)?` + ${mt(t(d))} unknown`:""))]),k(Q,D)};M(qe,Q=>{Q(St)})}var rt=b(qe,2);{var jt=Q=>{var G=du();$e(G,5,()=>(t(Re),f(()=>t(Re).filter(q=>!kt(q)))),q=>ht(q),(q,O)=>{var N=fu(),U=p(N);$(D=>H(U,D),[()=>(t(O),f(()=>qr(t(O))))]),ce("click",N,()=>Ui(t(O))),k(q,N)}),k(Q,G)};M(rt,Q=>{t(d),t(r),f(()=>Ue(t(d))===t(r))&&Q(jt)})}$(Q=>{H(Le,(t(d),f(()=>t(d).phase))),H(me,Q)},[()=>(t(d),t(r),f(()=>Ue(t(d))===t(r)?"Your turn":`${Pn(Ue(t(d)))}'s turn`))]),k(s,h)},lo=s=>{var u=bt(),h=Ne(u);{var m=A=>{var B=_u(),se=p(B),ge=p(se),be=b(p(ge),2),Ke=p(be);Ke.value=Ke.__value=32;var Le=b(Ke);Le.value=Le.__value=36;var tt=b(Le);tt.value=tt.__value=40;var me=b(tt);me.value=me.__value=44;var we=b(me);we.value=we.__value=48;var Ve=b(we);Ve.value=Ve.__value=52;var nt;Er(be);var fe=b(ge,2),K=p(fe),_e=b(fe,2),Te=p(_e),It=b(se,2);$(()=>{nt!==(nt=(t(l),f(()=>t(l).deckSize)))&&(be.value=(be.__value=(t(l),f(()=>t(l).deckSize)))??"",sr(be,(t(l),f(()=>t(l).deckSize)))),Tr(K,(t(l),f(()=>t(l).trumpReflecting))),Tr(Te,(t(l),f(()=>t(l).reflecting)))}),ce("change",be,qe=>{g(l,{...t(l),deckSize:parseInt(qe.target.value)}),Qe(t(l))}),ce("change",K,qe=>{g(l,{...t(l),trumpReflecting:qe.target.checked}),Qe(t(l))}),ce("change",Te,qe=>{g(l,{...t(l),reflecting:qe.target.checked}),Qe(t(l))}),ce("click",It,ji),k(A,B)},y=A=>{var B=pu();k(A,B)};M(h,A=>{t(l),t(d),f(()=>t(l).computerShuffle&&!t(d))?A(m):A(y,!1)},!0)}k(s,u)};M(so,s=>{t(d),t(l),t(Ge),f(()=>t(d)&&(t(l).computerShuffle||t(Ge)))?s(oo):s(lo,!1)})}var co=b(ia,2),uo=p(co);{var fo=s=>{const u=I(()=>(t(d),f(()=>Ue(t(d))))),h=I(()=>t(u)===t(r)),m=I(()=>(S(t(h)),S(j),t(l),S(t(u)),f(()=>t(h)?j.Human:t(l).computerShuffle?t(l).playerTypes[t(u)]:j.Real)));var y=Nu(),A=Ne(y),B=p(A),se=p(B),ge=b(se),be=p(ge),Ke=b(B,4);{var Le=fe=>{var K=hu(),_e=p(K);$(()=>{Pe(K,1,`rounded-md px-3 py-1.5 text-xs font-medium ${t(l),f(()=>t(l).showHints?"bg-indigo-600 hover:bg-indigo-500":"border border-zinc-700 bg-zinc-900 hover:bg-zinc-800")??""}`),H(_e,(t(l),f(()=>t(l).showHints?"Hints On":"Hints Off")))}),ce("click",K,Rs),k(fe,K)};M(Ke,fe=>{S(t(h)),t(l),S(t(u)),t(r),f(()=>t(h)||!t(l).computerShuffle&&t(u)===t(r))&&fe(Le)})}var tt=b(A,2);{var me=fe=>{var K=mu(),_e=p(K),Te=p(_e),It=b(p(Te)),qe=b(Te,2),St=b(p(qe));$(()=>{Xn(It,(t(l),f(()=>t(l).hintDeterminizations))),Xn(St,(t(l),f(()=>t(l).hintRollouts)))}),ce("change",It,rt=>{g(l,{...t(l),hintDeterminizations:parseInt(rt.target.value)||50}),Qe(t(l))}),ce("change",St,rt=>{g(l,{...t(l),hintRollouts:parseInt(rt.target.value)||5e3}),Qe(t(l))}),k(fe,K)};M(tt,fe=>{t(l),S(t(h)),f(()=>t(l).showHints&&t(h))&&fe(me)})}var we=b(tt,2);{var Ve=fe=>{var K=gu();k(fe,K)},nt=fe=>{var K=bt(),_e=Ne(K);{var Te=qe=>{const St=I(()=>(t(ot),t(Re),f(()=>t(ot)?.actions||t(Re).map(N=>({action:N,mean_score:null}))))),rt=I(()=>{const{cardActions:N,otherActions:U}=(S(t(St)),f(()=>Bs(t(St))));return{cardActions:N,otherActions:U}});var jt=zu(),Q=Ne(jt);{var G=N=>{var U=yu();$e(U,5,()=>t(rt).cardActions,D=>ht(D.action),(D,E)=>{const X=I(()=>(t(E),f(()=>Be(t(E).action.card)))),W=I(()=>(t(ot),t(E),f(()=>t(ot)?.actions?.length&&ht(t(E).action)===ht(t(ot).actions[0].action)&&t(E).score!=null))),oe=I(()=>(t(E),f(()=>({attack:"Attack",defend:"Defend",throw:"Throw",reflect:"Reflect",reflect_trump:"Show"})[t(E).action.type]))),de=I(()=>(t(E),f(()=>t(E).score!=null?(t(E).score*100).toFixed(1):null)));var Ae=xu(),He=p(Ae),dt=p(He),Y=b(He,2);Je(Y,{get card(){return t(X)},size:"sm"});var ue=b(Y,2);{var le=V=>{var Z=bu(),ke=p(Z),xe=p(ke),lt=b(ke,2),L=p(lt),J=b(lt,2),Se=p(J);$(()=>{Pe(ke,1,`text-[10px] ${t(E),f(()=>t(E).score>.5?"text-green-400":t(E).score<.5?"text-red-400":"text-zinc-400")??""}`),H(xe,`${t(de)??""}%`),Pe(L,1,`h-full ${t(E),f(()=>t(E).score>.5?"bg-green-500":t(E).score<.5?"bg-red-500":"bg-zinc-500")??""}`),jl(L,`width: ${t(de)??""}%`),H(Se,(t(E),f(()=>t(E).visits)))}),k(V,Z)};M(ue,V=>{t(de)!==null&&V(le)})}$(()=>{Pe(Ae,1,`flex flex-col items-center gap-1 p-1.5 rounded-lg border ${t(W)?"border-indigo-500 bg-indigo-950/40":"border-zinc-700 bg-zinc-900/50"} hover:bg-zinc-800/50`),lr(Ae,"title",(S(t(de)),t(E),S(t(oe)),f(()=>t(de)!==null?`${t(de)}% from ${t(E).visits}`:t(oe)))),H(dt,t(oe))}),ce("click",Ae,()=>Nt(t(E).action,!0)),k(D,Ae)}),k(N,U)};M(Q,N=>{S(t(rt).cardActions),f(()=>t(rt).cardActions.length)&&N(G)})}var q=b(Q,2);{var O=N=>{var U=Su();$e(U,5,()=>t(rt).otherActions,D=>ht(D.action),(D,E)=>{const X=I(()=>(t(ot),t(E),f(()=>t(ot)?.actions?.length&&ht(t(E).action)===ht(t(ot).actions[0].action)&&t(E).score!=null))),W=I(()=>(t(E),f(()=>t(E).score!=null?(t(E).score*100).toFixed(1):null)));var oe=ku(),de=p(oe),Ae=p(de),He=b(de,2);{var dt=Y=>{var ue=wu(),le=Ne(ue),V=p(le),Z=b(le,2),ke=p(Z);$(()=>{Pe(le,1,`text-[10px] ${t(E),f(()=>t(E).score>.5?"text-green-400":t(E).score<.5?"text-red-400":"text-zinc-400")??""}`),H(V,`${t(W)??""}%`),H(ke,(t(E),f(()=>t(E).visits)))}),k(Y,ue)};M(He,Y=>{t(W)!==null&&Y(dt)})}$(Y=>{Pe(oe,1,`flex flex-col items-center gap-1 px-4 py-2 rounded-lg border ${t(X)?"border-indigo-500 bg-indigo-950/40":"border-zinc-700 bg-zinc-900/50"} hover:bg-zinc-800/50`),H(Ae,Y)},[()=>(t(E),f(()=>qr(t(E).action)))]),ce("click",oe,()=>Nt(t(E).action,!0)),k(D,oe)}),k(N,U)};M(q,N=>{S(t(rt).otherActions),f(()=>t(rt).otherActions.length)&&N(O)})}k(qe,jt)},It=qe=>{var St=bt(),rt=Ne(St);{var jt=G=>{const q=I(()=>(t(Re),f(()=>qs(t(Re)))));var O=Cu(),N=Ne(O);{var U=Y=>{var ue=Au();$e(ue,5,()=>(S(t(q)),f(()=>t(q).other)),le=>ht(le),(le,V)=>{var Z=Tu(),ke=p(Z);$(xe=>H(ke,xe),[()=>(t(V),f(()=>qr(t(V))))]),ce("click",Z,()=>Nt(t(V),!0)),k(le,Z)}),k(Y,ue)};M(N,Y=>{S(t(q)),f(()=>t(q).other.length)&&Y(U)})}var D=b(N,2);$e(D,1,()=>(S(t(q)),f(()=>[["Attack",t(q).attack],["Defend",t(q).defend],["Throw",t(q).throw],["Reflect",t(q).reflect],["Show Trump",t(q).reflectTrump]])),Yt,(Y,ue)=>{var le=sl(()=>yo(t(ue),2));let V=()=>t(le)[0],Z=()=>t(le)[1];var ke=bt(),xe=Ne(ke);{var lt=L=>{var J=Eu(),Se=p(J),it=p(Se),ct=b(Se,2);$e(ct,5,()=>(Z(),f(()=>Ys(Z()))),gt=>ht(gt),(gt,Ut)=>{{let hn=I(()=>(t(Ut),f(()=>kt(t(Ut)))));Je(gt,{get card(){return t(hn)},size:"sm",selectable:!0,$$events:{click:()=>Nt(t(Ut),!0)}})}}),$(()=>H(it,`${V()??""}:`)),k(L,J)};M(xe,L=>{Z(),f(()=>Z().length)&&L(lt)})}k(Y,ke)});var E=b(D,2),X=b(p(E),2),W=p(X),oe=p(W),de=b(p(oe));$(()=>{t(br),fa(()=>{})}),$e(de,5,()=>P,Yt,(Y,ue)=>{var le=Pu(),V=p(le),Z={};$(()=>{H(V,t(ue)),Z!==(Z=t(ue))&&(le.value=(le.__value=t(ue))??"")}),k(Y,le)});var Ae=b(oe,2),He=b(p(Ae));$(()=>{t(xr),fa(()=>{t(o)})}),$e(He,5,()=>t(o),Yt,(Y,ue)=>{var le=Ru(),V=p(le),Z={};$(()=>{H(V,t(ue)),Z!==(Z=t(ue))&&(le.value=(le.__value=t(ue))??"")}),k(Y,le)});var dt=b(W,2);ma(de,()=>t(br),Y=>g(br,Y)),ma(He,()=>t(xr),Y=>g(xr,Y)),ce("click",dt,Ls),k(G,O)},Q=G=>{var q=bt(),O=Ne(q);{var N=D=>{var E=Ou(),X=p(E),W=b(p(X),2),oe=p(W),de=p(oe),Ae=b(oe,2),He=p(Ae);$(()=>{H(de,(S(t(m)),S(j),f(()=>t(m)===j.MCTS?"Thinking...":"Playing..."))),H(He,(S(t(m)),S(j),f(()=>t(m)===j.Random?"Random":"MCTS")))}),k(D,E)},U=D=>{var E=Mu();k(D,E)};M(O,D=>{t(l),t(An),t(En),S(t(u)),f(()=>t(l).computerShuffle&&t(An)&&t(En)===t(u))?D(N):D(U,!1)},!0)}k(G,q)};M(rt,G=>{t(l),f(()=>!t(l).computerShuffle)?G(jt):G(Q,!1)},!0)}k(qe,St)};M(_e,qe=>{t(h)?qe(Te):qe(It,!1)},!0)}k(fe,K)};M(we,fe=>{t(l),t(d),f(()=>!t(l).computerShuffle&&mt(t(d))>0)?fe(Ve):fe(nt,!1)})}$(fe=>{H(se,`${fe??""} Turn `),Pe(ge,1,`text-[10px] ml-1 px-1.5 py-0.5 rounded ${S(t(m)),S(j),f(()=>t(m)===j.MCTS?"bg-indigo-900/50 text-indigo-300":"bg-zinc-800 text-zinc-400")??""}`),H(be,t(m))},[()=>(S(t(h)),S(t(u)),f(()=>t(h)?"Your":`${Pn(t(u))}'s`))]),k(s,y)};M(uo,s=>{t(d),t(l),t(Ge),f(()=>t(d)&&(t(l).computerShuffle||t(Ge)))&&s(fo)})}var vo=b(Gi,2),_o=p(vo),po=p(_o);$(()=>{H(Ws,(t(l),f(()=>t(l).computerShuffle?"toggle for real game help":"toggle to play vs computer"))),Pe(yr,1,`relative w-10 h-5 rounded-full transition-colors ${t(l),f(()=>t(l).computerShuffle?"bg-indigo-600":"bg-zinc-700")??""}`),lr(yr,"aria-checked",(t(l),f(()=>t(l).computerShuffle))),Pe(Vs,1,`absolute top-0.5 left-0.5 w-4 h-4 bg-white rounded-full transition-transform ${t(l),f(()=>t(l).computerShuffle?"translate-x-5":"translate-x-0")??""}`),Xn(Qi,(t(l),f(()=>t(l).numThreads))),wr.disabled=(t(ie),f(()=>!t(ie).length)),H(eo,`Undo${t(ie),f(()=>t(ie).length?` (${t(ie).length})`:"")??""}`),H(po,`© ${w??""} - `)}),ce("click",Ki,()=>{localStorage.clear(),location.reload()}),ce("click",yr,()=>Ms(!t(l).computerShuffle)),ce("change",Qi,s=>{g(l,{...t(l),numThreads:parseInt(s.target.value)||4}),Qe(t(l))}),ce("click",wr,Is),ce("click",to,()=>{Es(),location.reload()}),k(e,Yi),wi()}Pl(Du,{target:document.getElementById("app")});
